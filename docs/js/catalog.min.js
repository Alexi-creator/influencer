(()=>{"use strict";var e;!function(e){e.goods="goods",e.sp="sp",e.tff="tff",e.contacts="contacts"}(e||(e={}));const t={autocomplete:"https://62dd423d79b9f8c30aa554e1.mockapi.io/autocomplete"};class s{constructor(){this.selector=".popup",this.popupCloseSelector=".popup__close",this.dataAttributePopup="[data-popup]",this.dataAttributeClosePopup="[data-close-popup]",this.popupOpenClass="popup--open",this.overflowClass="overflow",this.popupOverlayClass="popup__overlay",this.init()}init(){this.handlers(),[768,1200].forEach((e=>{window.matchMedia(`(min-width:${e}px)`).addListener((e=>this.breakpointChecker(e)))}))}breakpointChecker(e){const t=e.media.replace(/\D/g,"");Array.from(document.querySelectorAll(`${this.selector}--open`)).forEach((e=>{const s=e.dataset.media;Number(t)>=Number(s)&&this.closePopup(e)}))}openPopup(e){const t=document.getElementById(e.dataset.popup||"");if(!t)throw new Error(`no attribute value: ${this.dataAttributePopup}`);{let e=!0;const s=Number(t.dataset.media);s&&s<window.innerWidth&&(e=!1),e&&(t.classList.add(this.popupOpenClass),document.body.classList.add(this.overflowClass),document.dispatchEvent(new CustomEvent("openPopup",{detail:null==t?void 0:t.id})))}}checkOpenedPopups(){return[...document.querySelectorAll(this.selector)].some((e=>e.classList.contains("popup--open")))}closePopup(e){var t;const s=e.closest(this.selector)||document.getElementById((null===(t=null==e?void 0:e.dataset)||void 0===t?void 0:t.closePopup)||"");null==s||s.classList.remove(this.popupOpenClass),this.checkOpenedPopups()||document.body.classList.remove(this.overflowClass),document.dispatchEvent(new CustomEvent("closePopup",{detail:null==s?void 0:s.id}))}clickHandler(e){const t=e.target;return t.closest(this.dataAttributeClosePopup)&&t.closest(this.dataAttributePopup)?(this.closePopup(t),this.openPopup(t.closest(this.dataAttributePopup))):t.classList.contains(this.popupOverlayClass)||t.closest(this.popupCloseSelector)||t.closest(this.dataAttributeClosePopup)?this.closePopup(t):void(t.closest(this.dataAttributePopup)&&this.openPopup(t.closest(this.dataAttributePopup)))}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}class i{constructor(){this.selectorActionBtn=".header__nav-more",this.selectorUsefulLinks=".useful-links",this.selectorUsefulLinksCross=".useful-links__title-cross";const e=document.querySelector(this.selectorUsefulLinks);e&&(this.usefulLinksElem=e),this.usefulLinksElem&&this.init()}init(){window.matchMedia("(min-width:1200px)").addListener((e=>this.breakpointChecker(e))),this.handlers()}breakpointChecker(e){this.usefulLinksElem.classList.contains("active")&&(e.matches?document.body.classList.remove("overflow"):document.body.classList.add("overflow"))}toggle(){this.usefulLinksElem.classList.toggle("active"),document.body.classList.toggle("overflow")}clickHandler(e){const t=e.target;(t.closest(this.selectorActionBtn)||t.closest(this.selectorUsefulLinksCross))&&this.toggle()}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}const o=(e,t)=>{return s=void 0,i=void 0,l=function*(){var s;const i=Object.assign(Object.assign({},{method:"get"}),t);try{const o=yield fetch(e,Object.assign(Object.assign({credentials:i.credentials,headers:"get"===i.method?{}:{"Content-Type":"application/json"}},i),{signal:null===(s=t.fetchController)||void 0===s?void 0:s.signal})),{status:l}=o,c=yield o.json();return c.detail?{error:c.detail,status:l}:{data:c,status:l}}catch(e){return{error:e}}},new((o=void 0)||(o=Promise))((function(e,t){function c(e){try{r(l.next(e))}catch(e){t(e)}}function n(e){try{r(l.throw(e))}catch(e){t(e)}}function r(t){var s;t.done?e(t.value):(s=t.value,s instanceof o?s:new o((function(e){e(s)}))).then(c,n)}r((l=l.apply(s,i||[])).next())}));var s,i,o,l},l=(e,t)=>{let s;return function(){clearTimeout(s),s=setTimeout((()=>{e.apply(this,arguments)}),t)}};class c{constructor(e,t,s){this.selectorForm=e,this.url=t,this.apiOptions=s;const i=document.querySelector(this.selectorForm);i&&(this.form=i),this.form&&this.init()}init(){this.handlers()}getData(){const e=new FormData(this.form);return Array.from(e.entries()).reduce(((e,[t,s])=>(e[t]=s,e)),{})}submitForm(){return e=this,t=void 0,i=function*(){const e=this.getData(),{method:t}=this.apiOptions;let s=this.url;if("get"===t){const t=new URLSearchParams;Object.entries(e).forEach((([e,s])=>t.append(e,String(s)))),s=`${this.url}?${t.toString()}`}else this.apiOptions=Object.assign(Object.assign({},this.apiOptions),{body:JSON.stringify(e)});return yield o(s,this.apiOptions)},new((s=void 0)||(s=Promise))((function(o,l){function c(e){try{r(i.next(e))}catch(e){l(e)}}function n(e){try{r(i.throw(e))}catch(e){l(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(c,n)}r((i=i.apply(e,t||[])).next())}));var e,t,s,i}validateForm(){}resetForm(){}handlers(){this.form.addEventListener("submit",(e=>{e.preventDefault(),this.submitForm()}))}}class n{constructor(){this.selectorContainer=".login",this.selectorBtnSignIn=".login__choice-sign-in",this.selectorBtnSignUp=".login__choice-sign-up";const e=document.querySelector(this.selectorContainer);e&&(this.containerElem=e);const t=document.querySelector(this.selectorBtnSignIn);t&&(this.btnSignInElem=t);const s=document.querySelector(this.selectorBtnSignUp);s&&(this.btnSignUpElem=s),this.btnSignInElem&&this.btnSignUpElem?this.init():console.error(`No items found: ${this.selectorBtnSignIn}, ${this.selectorBtnSignUp}`)}init(){this.handlers()}toggle(e){e.closest(this.selectorBtnSignIn)?(this.containerElem.classList.remove(`${this.selectorContainer.substring(1)}--sign-up`),this.containerElem.classList.add(`${this.selectorContainer.substring(1)}--sign-in`)):(this.containerElem.classList.remove(`${this.selectorContainer.substring(1)}--sign-in`),this.containerElem.classList.add(`${this.selectorContainer.substring(1)}--sign-up`))}clickHandler(e){const t=e.target;(t.closest(this.selectorBtnSignIn)||t.closest(this.selectorBtnSignUp))&&this.toggle(t)}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}class r{constructor(){this.selectedOption=e=>{console.log("selected option autocomplete",e),"pickup"===this.deliveryType&&(e.value?(this.searchPickupBtnElem.disabled=!1,this.mapPickupBtnElem.disabled=!1,this.pickupSelected=e,window.innerWidth<1200?this.pickupInputElem.value=e.label:this.searchInputElem.value=e.label):(this.searchPickupBtnElem.disabled=!0,this.mapPickupBtnElem.disabled=!0,this.pickupSelected={label:"",value:""},window.innerWidth<1200?this.pickupInputElem.value="":this.searchInputElem.value="")),"courier"===this.deliveryType&&(e.value?(this.mapCourierBtnElem.disabled=!1,this.courierSelected=e,this.courierFullAddressElem.innerHTML="",this.courierFullAddressElem.innerHTML=e.label):(this.mapCourierBtnElem.disabled=!0,this.courierSelected={label:"",value:""},this.courierFullAddressElem.innerHTML=""))},this.mapId="#maps",this.searchPickupId="#search-pickup",this.courierAddressId="#courier",this.templateAddressId="#address",this.isLoadMap=!1,this.deliveryType="pickup",this.headerSelector=".header",this.mapSelector=".map",this.courierSelector=".courier",this.searchPickupSelector=".search-pickup",this.pickupInputSelector=".map__autocomplete--pickup input",this.courierInputSelector=".map__autocomplete--courier input",this.searchInputSelector=`${this.searchPickupSelector} input`,this.mapYandexSelector=".map__yandex",this.addressSelector=".location__address",this.addressSelectedSelector=`${this.addressSelector}--selected`,this.addressRemoveSelector=`${this.addressSelector}-remove`,this.locationAddressesSelector=".location__addresses",this.radioDeliveryName="choose-delivery",this.courierFullAddress=`${this.courierSelector}__actions-inputs-full`,this.searchPickupBtnSelector=`${this.searchPickupSelector}__btn`,this.mapPickupBtnSelector=`${this.mapSelector}__btn--pickup`,this.mapCourierBtnSelector=`${this.mapSelector}__btn--courier`,this.addressElems=Array.from(document.querySelectorAll(this.addressSelector));const e=document.querySelector(this.mapId);e&&(this.iframeMapElem=e);const t=document.querySelector(this.templateAddressId);t&&(this.templateAddressElem=t);const s=document.querySelector(this.searchPickupId);s&&(this.searchPickupElem=s);const i=this.searchPickupElem.querySelector(this.searchInputSelector);i&&(this.searchInputElem=i);const o=this.searchPickupElem.querySelector(this.searchPickupBtnSelector);o&&(this.searchPickupBtnElem=o);const l=document.querySelector(this.courierAddressId);l&&(this.courierAddressElem=l);const c=document.querySelector(this.mapSelector);c&&(this.mapElem=c);const n=document.querySelector(this.mapYandexSelector);n&&(this.mapYandexElem=n);const r=this.mapElem.querySelector(this.mapPickupBtnSelector);r&&(this.mapPickupBtnElem=r);const a=this.mapElem.querySelector(this.mapCourierBtnSelector);a&&(this.mapCourierBtnElem=a);const h=document.querySelector(this.pickupInputSelector);h&&(this.pickupInputElem=h);const d=document.querySelector(this.courierInputSelector);d&&(this.courierInputElem=d);const u=document.querySelector(this.headerSelector);u&&(this.headerElem=u);const p=document.querySelector(this.locationAddressesSelector);p&&(this.locationAddressesElem=p);const m=document.querySelector(this.courierFullAddress);m&&(this.courierFullAddressElem=m),this.init()}init(){this.handlers(),this.mapElem.classList.add(`${this.mapSelector.substring(1)}--pickup`),window.matchMedia("(min-width:1200px)").addListener((e=>this.breakpointChecker(e))),navigator.geolocation.getCurrentPosition((function(e){console.log("geolocation",e.coords.latitude,e.coords.longitude)}),(function(e){console.log(e.message)}))}breakpointChecker(e){e.matches&&(this.searchPickupElem.classList.remove("popup--open"),this.courierAddressElem.classList.remove("popup--open"))}selectedAddress(e){this.addressElems.forEach((t=>{t.classList.remove(this.addressSelectedSelector.substring(1)),t===e&&t.classList.add(this.addressSelectedSelector.substring(1))}))}addAddress(e){let t=!0;if(this.pickupSelected&&(t=this.addressElems.some((e=>{var t;return e.dataset.value===(null===(t=this.pickupSelected)||void 0===t?void 0:t.value)}))),this.courierSelected&&(t=this.addressElems.some((e=>{var t;return e.dataset.value===(null===(t=this.courierSelected)||void 0===t?void 0:t.value)}))),!t){const t=this.templateAddressElem.content.cloneNode(!0),s=t.querySelector(".location__address"),i=t.querySelector(".location__address-option"),o=t.querySelector(".location__address-address");s&&i&&o&&("pickup"===e&&this.pickupSelected&&(o.textContent=this.pickupSelected.label,i.textContent="Пункт выдачи",s.dataset.value=this.pickupSelected.value),"courier"===e&&this.courierSelected&&(o.textContent=this.courierSelected.label,i.textContent="Доставка по адресу",s.dataset.value=this.courierSelected.value)),this.locationAddressesElem.prepend(t),this.addressElems=Array.from(document.querySelectorAll(this.addressSelector))}}removeAddress(e){return t=this,s=void 0,o=function*(){const t=e.dataset.value;console.log("remove address",t),e.remove(),this.addressElems=Array.from(document.querySelectorAll(this.addressSelector))},new((i=void 0)||(i=Promise))((function(e,l){function c(e){try{r(o.next(e))}catch(e){l(e)}}function n(e){try{r(o.throw(e))}catch(e){l(e)}}function r(t){var s;t.done?e(t.value):(s=t.value,s instanceof i?s:new i((function(e){e(s)}))).then(c,n)}r((o=o.apply(t,s||[])).next())}));var t,s,i,o}openPopup(e){e.classList.add("popup--open")}changeDelivery(e){"courier"===e?(this.mapElem.classList.remove(`${this.mapSelector.substring(1)}--pickup`),this.mapElem.classList.add(`${this.mapSelector.substring(1)}--courier`)):(this.mapElem.classList.remove(`${this.mapSelector.substring(1)}--courier`),this.mapElem.classList.add(`${this.mapSelector.substring(1)}--pickup`)),this.deliveryType=e}loadMap(){const e=this.iframeMapElem.dataset.src;this.iframeMapElem.addEventListener("load",(()=>{this.mapYandexElem.classList.add(`${this.mapYandexSelector.substring(1)}--load`)})),e&&(this.iframeMapElem.src=e,this.isLoadMap=!0)}clickHandler(e){const t=e.target,s=t.closest(this.addressSelector),i=t.closest(this.addressRemoveSelector);!this.isLoadMap&&t.closest('[data-popup="map"]')&&this.loadMap(),i&&s&&this.removeAddress(s),s&&!i&&this.selectedAddress(s),this.mapPickupBtnElem.contains(t)&&this.addAddress("pickup"),this.mapCourierBtnElem.contains(t)&&window.innerWidth<1200&&this.openPopup(this.courierAddressElem)}focusHandler(e){e.target===this.pickupInputElem&&window.innerWidth<1200&&"pickup"===this.deliveryType&&(this.openPopup(this.searchPickupElem),this.pickupInputElem.blur())}changeHandler(e){const t=e.target,s=t.name,i=t.value;s===this.radioDeliveryName&&this.changeDelivery(i)}handlers(){this.headerElem.addEventListener("click",(e=>this.clickHandler(e))),this.headerElem.addEventListener("focusin",(e=>this.focusHandler(e))),this.headerElem.addEventListener("change",(e=>this.changeHandler(e)))}}var a=function(e,t,s,i){return new(s||(s=Promise))((function(o,l){function c(e){try{r(i.next(e))}catch(e){l(e)}}function n(e){try{r(i.throw(e))}catch(e){l(e)}}function r(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(c,n)}r((i=i.apply(e,t||[])).next())}))};class h{constructor({id:e,url:t,callback:s}){this.fetchController=null,this.id=e,this.url=t,this.callback=s,this.isOpen=!1,this.containerSelector=".autocomplete",this.inputWrapperSelector=`${this.containerSelector}__input`,this.optionsSelector=`${this.containerSelector}__options`,this.itemSelector=`${this.containerSelector}__options-item`;const i=document.querySelector(`#${this.id}`);i&&(this.containerElem=i);const o=this.containerElem.querySelector(this.inputWrapperSelector);o&&(this.inputWrapperElem=o);const l=this.inputWrapperElem.querySelector("input");l&&(this.inputElem=l);const c=this.containerElem.querySelector("input[hidden]");c&&(this.hiddenInputElem=c);const n=this.containerElem.querySelector(this.optionsSelector);n&&(this.optionsElem=n),this.init()}init(){this.handlers(),this.collectedInitialOptions(),this.debounce=l(this.fetchOptions,200)}renderOptions(){this.optionsElem.innerHTML="";const e=this.searchOptions.map((({label:e,value:t})=>`<li class="autocomplete__options-item" data-value="${t}" tabindex="0">${e}</li>`)).join("");this.optionsElem.innerHTML=e}collectedInitialOptions(){const e=Array.from(this.containerElem.querySelectorAll(this.itemSelector)).reduce(((e,t)=>{const s=t.innerHTML,i=t.dataset.value;return s&&i?[...e,{label:s,value:i}]:e}),[]);this.options=e}toggle(){this.isOpen=!this.isOpen,this.containerElem.classList.toggle("active")}selected(e){const t=e.dataset.value,s=e.innerHTML;s&&(this.inputElem.value=s),t&&(this.hiddenInputElem.value=t),t&&s&&(this.selectedOption={label:s,value:t}),this.callback&&s&&t&&this.callback({label:s,value:t}),Array.from(this.optionsElem.children).forEach((e=>{e.classList.remove("active"),e.dataset.value===t&&e.classList.add("active")})),this.toggle()}fetchOptions(e){return a(this,void 0,void 0,(function*(){this.fetchController=new AbortController,this.containerElem.classList.add("load");const t=yield o(`${this.url}?search=${e}`,{fetchController:this.fetchController});this.containerElem.classList.remove("load"),t.error&&"AbortError"!==t.error.name?console.error("Error fetching data:",t.error):Array.isArray(t.data)&&(this.searchOptions=t.data,this.renderOptions())}))}searchMatch(e){var t;return a(this,void 0,void 0,(function*(){if(this.url)return this.fetchController&&(null===(t=this.fetchController)||void 0===t||t.abort()),void(e&&e.length>2?this.debounce(e):(this.searchOptions=[],this.renderOptions()));const s=new RegExp(e,"i"),i=this.options.filter((e=>s.test(e.label)));this.searchOptions=i,this.renderOptions()}))}clickHandler(e){const t=e.target;(this.inputWrapperElem.contains(t)||!this.containerElem.contains(t)&&this.isOpen)&&this.toggle(),this.containerElem.contains(t)&&t.closest(this.itemSelector)&&this.selected(t)}inputHandler(e){const t=e.target;this.containerElem.contains(t)&&(this.searchMatch(t.value),this.isOpen||this.toggle())}setInput(e){var t,s;e.value=null!==(s=null===(t=this.selectedOption)||void 0===t?void 0:t.label)&&void 0!==s?s:""}blurHandler(e){var t;const s=e.target;0===s.value.length&&(null===(t=this.selectedOption)||void 0===t?void 0:t.label)&&this.setInput(s)}searchHandler(){this.selectedOption=null,this.hiddenInputElem.value="",this.callback&&this.callback({label:"",value:""})}handlers(){document.addEventListener("click",(e=>this.clickHandler(e))),document.addEventListener("input",(e=>this.inputHandler(e))),this.inputElem.addEventListener("blur",(e=>this.blurHandler(e))),this.inputElem.addEventListener("search",(()=>this.searchHandler()))}}window.addEventListener("load",(()=>{let e;!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();try{new s}catch(e){console.log(e)}try{new i}catch(e){console.log(e)}try{new c(".login__form-sign-in",t.autocomplete,{method:"post"})}catch(e){console.log(e)}try{new c(".login__form-sign-up",t.autocomplete,{method:"post"})}catch(e){console.log(e)}try{new n}catch(e){console.log(e)}try{e=new r}catch(e){console.log(e)}try{new h({id:"pickup-autocomplete",url:t.autocomplete,callback:null==e?void 0:e.selectedOption})}catch(e){console.log(e)}try{new h({id:"courier-autocomplete",url:t.autocomplete,callback:null==e?void 0:e.selectedOption})}catch(e){console.log(e)}try{new h({id:"search-pickup-autocomplete",url:t.autocomplete,callback:null==e?void 0:e.selectedOption})}catch(e){console.log(e)}}));class d{constructor(){this.init()}init(){this.handlers()}changeTab(e){const t=e.dataset.tabPath,s=e.closest(".tabs__list"),i=null==s?void 0:s.querySelectorAll(".tabs__tab"),o=document.querySelector(`[data-tab-target="${t}"]`),l=null==o?void 0:o.closest(".tabs__contents"),c=null==l?void 0:l.querySelectorAll(".tabs__content");null==i||i.forEach((e=>e.classList.remove("tabs__tab--active"))),e.classList.add("tabs__tab--active"),null==c||c.forEach((e=>e.classList.remove("tabs__content--active"))),null==o||o.classList.add("tabs__content--active")}clickHandler(e){const t=e.target.closest(".tabs__tab");t&&this.changeTab(t)}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}class u{constructor(){this.selector=".collapse",this.init()}init(){this.handlers()}toggleCollapse(e){const t=e.closest(this.selector);t&&(t.classList.contains("collapse--close")?(t.classList.remove("collapse--close"),t.classList.add("collapse--open")):(null==t?void 0:t.classList.contains("collapse--open"))?(t.classList.remove("collapse--open"),t.classList.add("collapse--close")):t.classList.add("collapse--close"))}clickHandler(e){const t=e.target;if(t.closest(".collapse__head")&&"INPUT"!==t.tagName)return this.toggleCollapse(t)}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}class p{constructor(){this.selectorSelect=".select",this.selectorHeader=".select__header",this.selectorTitle=".select__title",this.selectorOptions=".select__options",this.selectorItem=".select__options-item",this.selectorIcon=".select__icon",this.allSelects=Array.from(document.querySelectorAll(".select")),0!==this.allSelects.length&&this.init()}init(){this.initialOption(),this.handlers()}initialOption(){this.allSelects.forEach((e=>{var t;const s=null===(t=e.querySelector("input"))||void 0===t?void 0:t.value,i=e.querySelector(this.selectorTitle);if(null==i?void 0:i.textContent)return;let o,l;if(s){const t=e.querySelector(`[data-value=${s}]`);o=null==t?void 0:t.innerHTML,l=t}else{const t=e.querySelector(this.selectorItem);o=null==t?void 0:t.innerHTML,l=t}i&&o&&(i.innerHTML=o),null==l||l.classList.add("active")}))}toggle(e){const t=e.querySelector(this.selectorIcon);null==t||t.classList.toggle("active"),e.classList.toggle("active")}changeOption(e,t){var s;const i=e.querySelector(this.selectorTitle),o=e.querySelector("input"),l=t.dataset.value,c=t.innerHTML;i&&o&&l&&(i.innerHTML=c,o.value=l,this.toggle(e)),e.querySelectorAll(this.selectorItem).forEach((e=>e.classList.remove("active"))),null===(s=null==t?void 0:t.closest(this.selectorItem))||void 0===s||s.classList.add("active")}clickHandler(e){const t=e.target,s=null==t?void 0:t.closest(this.selectorSelect);this.allSelects.forEach((e=>{if(s!==e){e.classList.remove("active");const t=e.querySelector(this.selectorIcon);null==t||t.classList.remove("active")}})),s&&((null==t?void 0:t.closest(this.selectorHeader))&&this.toggle(s),(null==t?void 0:t.closest(this.selectorOptions))&&this.changeOption(s,t))}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}class m{constructor({selectorContainer:e,breakpointsSettings:t,tagName:s}){this.selectorContainer=e,this.breakpointsSettings=t,this.tagName=s||"div";const i=[...document.querySelectorAll(this.selectorContainer)];i.length>0&&(this.containersElem=i),0!==this.containersElem.length&&Object.keys(t).length&&this.init()}init(){Object.keys(this.breakpointsSettings).forEach((e=>{window.matchMedia(`(min-width:${e}px)`).addListener((()=>this.build()))})),this.masonryAll=new Map,this.containersElem.forEach((e=>{this.masonryAll.set(e,[...e.children].map((e=>e.cloneNode(!0))))})),this.build()}getColumnsCount(){const e=window.innerWidth,t=Object.keys(this.breakpointsSettings).map((e=>Number(e))).filter((t=>t<=e));return this.breakpointsSettings[(null==t?void 0:t.at(-1))||t[0]||Object.keys(this.breakpointsSettings)[0]]}build(){const e=this.getColumnsCount();this.masonryAll.forEach(((t,s)=>{s.innerHTML="";for(let t=0;t<e;t++){const e=document.createElement(this.tagName);e.className="masonry-column",s.appendChild(e)}const i=s.children,o=i.length-1;let l=0;t.forEach((e=>{i[l].appendChild(e),l===o?l=0:l+=1}))}))}}class g{constructor(){this.selectorMobile=".catalog__mobile",this.selectorDesktop=".catalog__desktop",this.catalogSelected="";const e=document.querySelector(this.selectorMobile);e&&(this.containerMobile=e);const t=document.querySelector(this.selectorDesktop);t&&(this.containerDesktop=t),this.containerMobile&&this.containerDesktop&&this.init()}init(){this.catalogsMobile=[...document.querySelectorAll(`${this.selectorMobile} [data-catalog]`)],this.catalogsDesktop=new Map,[...document.querySelectorAll(`${this.selectorDesktop} .catalog__menu-item`)].forEach((e=>{const t=e.dataset.tabPath,s=document.querySelector(`.catalog__content [data-tab-target="${t}"]`);this.catalogsDesktop.set(e,s)})),this.handlers()}syncFromMobile(e){this.catalogsDesktop.forEach(((t,s)=>{s.classList.remove("tabs__tab--active"),t.classList.remove("tabs__content--active"),s.dataset.tabPath===e&&(s.classList.add("tabs__tab--active"),t.classList.add("tabs__content--active"))}))}syncFromDesktop(e){const t=this.catalogsMobile.find((t=>t.dataset.catalog===e));if(t){const e=t.querySelector(".collapse");e.classList.remove("collapse--close"),e.classList.add("collapse--open"),this.mobileCatalogSelected&&this.closeCurrentCollapse(this.mobileCatalogSelected),this.mobileCatalogSelected=t}}closeCurrentCollapse(e){const t=e.querySelector(".collapse");t.classList.remove("collapse--open"),t.classList.add("collapse--close")}searchCatalogMobile(e){const t=e.closest(".catalog__item");if(t){const e=t.dataset.catalog;if(e){if(this.catalogSelected===e)return;this.mobileCatalogSelected&&this.closeCurrentCollapse(this.mobileCatalogSelected),this.mobileCatalogSelected=t,this.catalogSelected=e,this.syncFromMobile(e)}}}searchCatalogDesktop(e){const t=e.closest(".tabs__tab");if(t){const e=t.dataset.tabPath;if(e){if(this.catalogSelected===e)return;this.catalogSelected=e,this.syncFromDesktop(e)}}}syncCatalog(e){this.checkDesktopWidth()?this.searchCatalogDesktop(e):this.searchCatalogMobile(e)}checkDesktopWidth(){return window.innerWidth>=1200}clickHandler(e){const t=e.target;this.syncCatalog(t)}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}class v{constructor(){this.selectorBtn=".btn-show",this.selectorBtnText=".btn-show-text",this.selectorHideElem=".hide-elem",this.selectorShowElem=".show-elem",this.init()}init(){this.handlers()}toggleElem(e){[...e.querySelectorAll(this.selectorHideElem)].forEach((e=>{e.classList.contains(this.selectorShowElem.substring(1))?e.classList.remove(this.selectorShowElem.substring(1)):e.classList.add(this.selectorShowElem.substring(1))}))}action(e){e.classList.toggle("active");const t=e.parentElement;if(t){const s=e.querySelector(this.selectorBtnText),i=null==s?void 0:s.textContent,o=e.dataset.text;i&&o&&s&&(s.textContent=o,e.dataset.text=i),this.toggleElem(t)}}clickHandler(e){const t=e.target.closest(this.selectorBtn);t&&this.action(t)}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}window.addEventListener("load",(()=>{try{new m({selectorContainer:".catalog__mobile .catalog__list",breakpointsSettings:{375:1,768:2}})}catch(e){console.log(e)}try{new m({selectorContainer:".catalog__desktop .catalog__masonry",breakpointsSettings:{1200:3,1920:4}})}catch(e){console.log(e)}try{new d}catch(e){console.log(e)}try{new p}catch(e){console.log(e)}try{new u}catch(e){console.log(e)}try{new g}catch(e){console.log(e)}try{new v}catch(e){console.log(e)}}))})();