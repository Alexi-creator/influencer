(()=>{"use strict";class t{constructor(){this.selector=".popup",this.popupCloseSelector=".popup__close",this.dataAttributePopup="[data-popup]",this.dataAttributeClosePopup="[data-close-popup]",this.popupOpenClass="popup--open",this.overflowClass="overflow",this.popupOverlayClass="popup__overlay",this.init()}init(){this.handlers(),[768,1200].forEach((t=>{window.matchMedia(`(min-width:${t}px)`).addListener((t=>this.breakpointChecker(t)))}))}breakpointChecker(t){const e=t.media.replace(/\D/g,"");Array.from(document.querySelectorAll(`${this.selector}--open`)).forEach((t=>{const s=t.dataset.media;Number(e)>=Number(s)&&this.closePopup(t)}))}openPopup(t){const e=document.getElementById(t.dataset.popup||"");if(!e)throw new Error(`no attribute value: ${this.dataAttributePopup}`);{let t=!0;const s=Number(e.dataset.media);if(s&&s<window.innerWidth&&(t=!1),t){e.classList.add(this.popupOpenClass),document.body.classList.add(this.overflowClass);const t=document.querySelector(".shop-preview__actions");t&&t.classList.add("shop-preview__actions--over")}}}checkOpenedPopups(){return[...document.querySelectorAll(this.selector)].some((t=>t.classList.contains("popup--open")))}closePopup(t){var e;const s=t.closest(this.selector)||document.getElementById((null===(e=null==t?void 0:t.dataset)||void 0===e?void 0:e.closePopup)||"");null==s||s.classList.remove(this.popupOpenClass),this.checkOpenedPopups()||document.body.classList.remove(this.overflowClass);const o=document.querySelector(".shop-preview__actions");o&&o.classList.remove("shop-preview__actions--over"),document.dispatchEvent(new CustomEvent("closePopup",{detail:null==s?void 0:s.id}))}clickHandler(t){const e=t.target;if(e.classList.contains(this.popupOverlayClass)||e.closest(this.popupCloseSelector)||e.closest(this.dataAttributeClosePopup))return this.closePopup(e);e.closest(this.dataAttributePopup)&&this.openPopup(e.closest(this.dataAttributePopup))}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}window.addEventListener("load",(()=>{!function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();try{new t}catch(t){console.log(t)}}));class e{constructor(){this.init()}init(){this.handlers()}changeTab(t){const e=t.dataset.tabPath,s=t.closest(".tabs__list"),o=null==s?void 0:s.querySelectorAll(".tabs__tab"),l=document.querySelector(`[data-tab-target="${e}"]`),c=null==l?void 0:l.closest(".tabs__contents"),i=null==c?void 0:c.querySelectorAll(".tabs__content");null==o||o.forEach((t=>t.classList.remove("tabs__tab--active"))),t.classList.add("tabs__tab--active"),null==i||i.forEach((t=>t.classList.remove("tabs__content--active"))),null==l||l.classList.add("tabs__content--active")}clickHandler(t){const e=t.target.closest(".tabs__tab");e&&this.changeTab(e)}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}class s{constructor(){this.selector=".collapse",this.init()}init(){this.handlers()}toggleCollapse(t){const e=t.closest(this.selector);e&&(e.classList.contains("collapse--close")?(e.classList.remove("collapse--close"),e.classList.add("collapse--open")):(null==e?void 0:e.classList.contains("collapse--open"))?(e.classList.remove("collapse--open"),e.classList.add("collapse--close")):e.classList.add("collapse--close"))}clickHandler(t){const e=t.target;if(e.closest(".collapse__head")&&"INPUT"!==e.tagName)return this.toggleCollapse(e)}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}class o{constructor(){this.selectorSelect=".select",this.selectorHeader=".select__header",this.selectorTitle=".select__title",this.selectorOptions=".select__options",this.selectorItem=".select__options-item",this.selectorIcon=".select__icon",this.allSelects=Array.from(document.querySelectorAll(".select")),0!==this.allSelects.length&&this.init()}init(){this.initialOption(),this.handlers()}initialOption(){this.allSelects.forEach((t=>{var e;const s=null===(e=t.querySelector("input"))||void 0===e?void 0:e.value,o=t.querySelector(this.selectorTitle);if(null==o?void 0:o.textContent)return;let l,c;if(s){const e=t.querySelector(`[data-value=${s}]`);l=null==e?void 0:e.innerHTML,c=e}else{const e=t.querySelector(this.selectorItem);l=null==e?void 0:e.innerHTML,c=e}o&&l&&(o.innerHTML=l),null==c||c.classList.add("active")}))}toggle(t){const e=t.querySelector(this.selectorIcon);null==e||e.classList.toggle("active"),t.classList.toggle("active")}changeOption(t,e){var s;const o=t.querySelector(this.selectorTitle),l=t.querySelector("input"),c=e.dataset.value,i=e.innerHTML;o&&l&&c&&(o.innerHTML=i,l.value=c,this.toggle(t)),t.querySelectorAll(this.selectorItem).forEach((t=>t.classList.remove("active"))),null===(s=null==e?void 0:e.closest(this.selectorItem))||void 0===s||s.classList.add("active")}clickHandler(t){const e=t.target,s=null==e?void 0:e.closest(this.selectorSelect);this.allSelects.forEach((t=>{if(s!==t){t.classList.remove("active");const e=t.querySelector(this.selectorIcon);null==e||e.classList.remove("active")}})),s&&((null==e?void 0:e.closest(this.selectorHeader))&&this.toggle(s),(null==e?void 0:e.closest(this.selectorOptions))&&this.changeOption(s,e))}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}class l{constructor({selectorContainer:t,breakpointsSettings:e,tagName:s}){this.selectorContainer=t,this.breakpointsSettings=e,this.tagName=s||"div";const o=[...document.querySelectorAll(this.selectorContainer)];o.length>0&&(this.containersElem=o),0!==this.containersElem.length&&Object.keys(e).length&&this.init()}init(){Object.keys(this.breakpointsSettings).forEach((t=>{window.matchMedia(`(min-width:${t}px)`).addListener((()=>this.build()))})),this.masonryAll=new Map,this.containersElem.forEach((t=>{this.masonryAll.set(t,[...t.children].map((t=>t.cloneNode(!0))))})),this.build()}getColumnsCount(){const t=window.innerWidth,e=Object.keys(this.breakpointsSettings).map((t=>Number(t))).filter((e=>e<=t));return this.breakpointsSettings[(null==e?void 0:e.at(-1))||e[0]||Object.keys(this.breakpointsSettings)[0]]}build(){const t=this.getColumnsCount();this.masonryAll.forEach(((e,s)=>{s.innerHTML="";for(let e=0;e<t;e++){const t=document.createElement(this.tagName);t.className="masonry-column",s.appendChild(t)}const o=s.children,l=o.length-1;let c=0;e.forEach((t=>{o[c].appendChild(t),c===l?c=0:c+=1}))}))}}class c{constructor(){this.selectorMobile=".catalog__mobile",this.selectorDesktop=".catalog__desktop",this.catalogSelected="";const t=document.querySelector(this.selectorMobile);t&&(this.containerMobile=t);const e=document.querySelector(this.selectorDesktop);e&&(this.containerDesktop=e),this.containerMobile&&this.containerDesktop&&this.init()}init(){this.catalogsMobile=[...document.querySelectorAll(`${this.selectorMobile} [data-catalog]`)],this.catalogsDesktop=new Map,[...document.querySelectorAll(`${this.selectorDesktop} .catalog__menu-item`)].forEach((t=>{const e=t.dataset.tabPath,s=document.querySelector(`.catalog__content [data-tab-target="${e}"]`);this.catalogsDesktop.set(t,s)})),this.handlers()}syncFromMobile(t){this.catalogsDesktop.forEach(((e,s)=>{s.classList.remove("tabs__tab--active"),e.classList.remove("tabs__content--active"),s.dataset.tabPath===t&&(s.classList.add("tabs__tab--active"),e.classList.add("tabs__content--active"))}))}syncFromDesktop(t){this.catalogsMobile.forEach((e=>{const s=e.querySelector(".collapse");s.classList.remove("collapse--open"),s.classList.add("collapse--close"),e.dataset.catalog===t&&s.classList.add("collapse--open")}))}searchCatalogMobile(t){const e=t.closest(".catalog__item");if(e){const t=e.dataset.catalog;if(t){if(this.catalogSelected===t)return;this.catalogSelected=t,this.syncFromMobile(t)}}}searchCatalogDesktop(t){const e=t.closest(".tabs__tab");if(e){const t=e.dataset.tabPath;if(t){if(this.catalogSelected===t)return;this.catalogSelected=t,this.syncFromDesktop(t)}}}syncCatalog(t){this.checkDesktopWidth()?this.searchCatalogDesktop(t):this.searchCatalogMobile(t)}checkDesktopWidth(){return window.innerWidth>=1200}clickHandler(t){const e=t.target;this.syncCatalog(e)}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}class i{constructor(){this.selectorBtn=".btn-show",this.selectorHideElem=".hide-elem",this.selectorShowElem=".show-elem",this.init()}init(){this.handlers()}toggleElem(t){[...t.querySelectorAll(this.selectorHideElem)].forEach((t=>{t.classList.contains(this.selectorShowElem.substring(1))?t.classList.remove(this.selectorShowElem.substring(1)):t.classList.add(this.selectorShowElem.substring(1))}))}action(t){t.classList.toggle("active");const e=t.parentElement;e&&this.toggleElem(e)}clickHandler(t){const e=t.target;e.closest(this.selectorBtn)&&this.action(e)}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}window.addEventListener("load",(()=>{try{new l({selectorContainer:".catalog__mobile .catalog__list",breakpointsSettings:{375:1,768:2}})}catch(t){console.log(t)}try{new l({selectorContainer:".catalog__desktop .catalog__masonry",breakpointsSettings:{1200:3,1920:4}})}catch(t){console.log(t)}try{new e}catch(t){console.log(t)}try{new o}catch(t){console.log(t)}try{new s}catch(t){console.log(t)}try{new c}catch(t){console.log(t)}try{new i}catch(t){console.log(t)}}))})();