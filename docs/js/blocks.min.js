(()=>{"use strict";class e{constructor(){this.selector=".popup",this.popupCloseSelector=".popup__close",this.dataAttributePopup="[data-popup]",this.dataAttributeClosePopup="[data-close-popup]",this.popupOpenClass="popup--open",this.overflowClass="overflow",this.popupOverlayClass="popup__overlay",this.init()}init(){this.handlers(),[768,1200].forEach((e=>{window.matchMedia(`(min-width:${e}px)`).addListener((e=>this.breakpointChecker(e)))}))}breakpointChecker(e){const t=e.media.replace(/\D/g,"");Array.from(document.querySelectorAll(`${this.selector}--open`)).forEach((e=>{const s=e.dataset.media;Number(t)>=Number(s)&&this.closePopup(e)}))}openPopup(e){const t=document.getElementById(e.dataset.popup||"");if(!t)throw new Error(`no attribute value: ${this.dataAttributePopup}`);{let e=!0;const s=Number(t.dataset.media);if(s&&s<window.innerWidth&&(e=!1),e){t.classList.add(this.popupOpenClass),document.body.classList.add(this.overflowClass);const e=document.querySelector(".shop-preview__actions");e&&e.classList.add("shop-preview__actions--over")}}}checkOpenedPopups(){return[...document.querySelectorAll(this.selector)].some((e=>e.classList.contains("popup--open")))}closePopup(e){var t;const s=e.closest(this.selector)||document.getElementById((null===(t=null==e?void 0:e.dataset)||void 0===t?void 0:t.closePopup)||"");null==s||s.classList.remove(this.popupOpenClass),this.checkOpenedPopups()||document.body.classList.remove(this.overflowClass);const o=document.querySelector(".shop-preview__actions");o&&o.classList.remove("shop-preview__actions--over"),document.dispatchEvent(new CustomEvent("closePopup",{detail:null==s?void 0:s.id}))}clickHandler(e){const t=e.target;if(t.classList.contains(this.popupOverlayClass)||t.closest(this.popupCloseSelector)||t.closest(this.dataAttributeClosePopup))return this.closePopup(t);t.closest(this.dataAttributePopup)&&this.openPopup(t.closest(this.dataAttributePopup))}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}class t{constructor(){this.selectorActionBtn=".header__nav-more",this.selectorUsefulLinks=".useful-links",this.selectorUsefulLinksCross=".useful-links__title-cross";const e=document.querySelector(this.selectorUsefulLinks);e&&(this.usefulLinksElem=e),this.usefulLinksElem&&this.init()}init(){window.matchMedia("(min-width:1200px)").addListener((e=>this.breakpointChecker(e))),this.handlers()}breakpointChecker(e){this.usefulLinksElem.classList.contains("active")&&(e.matches?document.body.classList.remove("overflow"):document.body.classList.add("overflow"))}toggle(){this.usefulLinksElem.classList.toggle("active"),document.body.classList.toggle("overflow")}clickHandler(e){const t=e.target;(t.closest(this.selectorActionBtn)||t.closest(this.selectorUsefulLinksCross))&&this.toggle()}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}window.addEventListener("load",(()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();try{new e}catch(e){console.log(e)}try{new t}catch(e){console.log(e)}})),window.addEventListener("load",(()=>{}))})();