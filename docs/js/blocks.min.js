(()=>{"use strict";class t{constructor(){this.selector=".popup",this.dataAttributePopup="[data-popup]",this.onlyMobilePopups=["share"],this.init()}init(){this.handlers()}openPopup(t){var e;const o=t.dataset.popup;if(o)return null===(e=document.getElementById(o))||void 0===e?void 0:e.classList.add("popup--open");throw new Error(`no attribute value: ${this.dataAttributePopup}`)}closePopup(t){const e=t.closest(this.selector);return document.dispatchEvent(new CustomEvent("closePopup",{detail:null==e?void 0:e.id})),null==e?void 0:e.classList.remove("popup--open")}clickHandler(t){const e=t.target;if(e.classList.contains("popup__overlay")||e.closest(".popup__close"))return this.closePopup(e);e.closest(this.dataAttributePopup)&&this.openPopup(e.closest(this.dataAttributePopup))}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}window.addEventListener("load",(()=>{!function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();try{new t}catch(t){console.log(t)}})),window.addEventListener("load",(()=>{}))})();