(()=>{"use strict";class e{constructor(){this.selector=".popup",this.dataAttributePopup="[data-popup]",this.onlyMobilePopups=["share"],this.init()}init(){this.handlers()}openPopup(e){var t;const s=e.dataset.popup;if(s)return null===(t=document.getElementById(s))||void 0===t?void 0:t.classList.add("popup--open");throw new Error(`no attribute value: ${this.dataAttributePopup}`)}closePopup(e){const t=e.closest(this.selector);return document.dispatchEvent(new CustomEvent("closePopup",{detail:null==t?void 0:t.id})),null==t?void 0:t.classList.remove("popup--open")}clickHandler(e){const t=e.target;if(t.classList.contains("popup__overlay")||t.closest(".popup__close"))return this.closePopup(t);t.closest(this.dataAttributePopup)&&this.openPopup(t.closest(this.dataAttributePopup))}handlers(){document.addEventListener("click",(e=>this.clickHandler(e)))}}window.addEventListener("load",(()=>{!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();try{new e}catch(e){console.log(e)}}));class t{constructor(){this.selector=".share",this.els=document.querySelectorAll(this.selector),this.error=0===this.els.length,this.error||this.init()}init(){this.handlers()}closePopupEvent(e){const t=document.getElementById(e.detail),s=null==t?void 0:t.closest(".share");s&&(s.classList.remove("share--open"),s.classList.add("share--close"))}clickHandler(e){var t,s,o,l;const i=e.target;if(i.closest(".share__open"))return null===(t=i.closest(this.selector))||void 0===t||t.classList.remove("share--close"),null===(s=i.closest(this.selector))||void 0===s?void 0:s.classList.add("share--open");i.closest(".share__close")&&(null===(o=i.closest(this.selector))||void 0===o||o.classList.remove("share--open"),null===(l=i.closest(this.selector))||void 0===l||l.classList.add("share--close"))}handlers(){document.addEventListener("click",(e=>this.clickHandler(e))),document.addEventListener("closePopup",(e=>this.closePopupEvent(e)))}}window.addEventListener("load",(()=>{try{new t}catch(e){console.log(e)}}))})();