(()=>{"use strict";var t;!function(t){t.goods="goods",t.sp="sp",t.tff="tff",t.contacts="contacts"}(t||(t={}));const e={autocomplete:"https://62dd423d79b9f8c30aa554e1.mockapi.io/autocomplete"};class i{constructor(){this.selector=".popup",this.popupCloseSelector=".popup__close",this.dataAttributePopup="[data-popup]",this.dataAttributeClosePopup="[data-close-popup]",this.popupOpenClass="popup--open",this.overflowClass="overflow",this.popupOverlayClass="popup__overlay",this.init()}init(){this.handlers(),[768,1200].forEach((t=>{window.matchMedia(`(min-width:${t}px)`).addListener((t=>this.breakpointChecker(t)))}))}breakpointChecker(t){const e=t.media.replace(/\D/g,"");Array.from(document.querySelectorAll(`${this.selector}--open`)).forEach((t=>{const i=t.dataset.media;Number(e)>=Number(i)&&this.closePopup(t)}))}openPopup(t){const e=document.getElementById(t.dataset.popup||"");if(!e)throw new Error(`no attribute value: ${this.dataAttributePopup}`);{let t=!0;const i=Number(e.dataset.media);i&&i<window.innerWidth&&(t=!1),t&&(e.classList.add(this.popupOpenClass),document.body.classList.add(this.overflowClass),document.dispatchEvent(new CustomEvent("openPopup",{detail:null==e?void 0:e.id})))}}checkOpenedPopups(){return[...document.querySelectorAll(this.selector)].some((t=>t.classList.contains("popup--open")))}closePopup(t){var e;const i=t.closest(this.selector)||document.getElementById((null===(e=null==t?void 0:t.dataset)||void 0===e?void 0:e.closePopup)||"");null==i||i.classList.remove(this.popupOpenClass),this.checkOpenedPopups()||document.body.classList.remove(this.overflowClass),document.dispatchEvent(new CustomEvent("closePopup",{detail:null==i?void 0:i.id}))}clickHandler(t){const e=t.target;return e.closest(this.dataAttributeClosePopup)&&e.closest(this.dataAttributePopup)?(this.closePopup(e),this.openPopup(e.closest(this.dataAttributePopup))):e.classList.contains(this.popupOverlayClass)||e.closest(this.popupCloseSelector)||e.closest(this.dataAttributeClosePopup)?this.closePopup(e):void(e.closest(this.dataAttributePopup)&&this.openPopup(e.closest(this.dataAttributePopup)))}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}class s{constructor(){this.selectorActionBtn=".header__nav-more",this.selectorUsefulLinks=".useful-links",this.selectorUsefulLinksCross=".useful-links__title-cross";const t=document.querySelector(this.selectorUsefulLinks);t&&(this.usefulLinksElem=t),this.usefulLinksElem&&this.init()}init(){window.matchMedia("(min-width:1200px)").addListener((t=>this.breakpointChecker(t))),this.handlers()}breakpointChecker(t){this.usefulLinksElem.classList.contains("active")&&(t.matches?document.body.classList.remove("overflow"):document.body.classList.add("overflow"))}toggle(){this.usefulLinksElem.classList.toggle("active"),document.body.classList.toggle("overflow")}clickHandler(t){const e=t.target;(e.closest(this.selectorActionBtn)||e.closest(this.selectorUsefulLinksCross))&&this.toggle()}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}const n=(t,e)=>{return i=void 0,s=void 0,r=function*(){var i;const s=Object.assign(Object.assign({},{method:"get"}),e);try{const n=yield fetch(t,Object.assign(Object.assign({credentials:s.credentials,headers:"get"===s.method?{}:{"Content-Type":"application/json"}},s),{signal:null===(i=e.fetchController)||void 0===i?void 0:i.signal})),{status:r}=n,o=yield n.json();return o.detail?{error:o.detail,status:r}:{data:o,status:r}}catch(t){return{error:t}}},new((n=void 0)||(n=Promise))((function(t,e){function o(t){try{a(r.next(t))}catch(t){e(t)}}function l(t){try{a(r.throw(t))}catch(t){e(t)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n((function(t){t(i)}))).then(o,l)}a((r=r.apply(i,s||[])).next())}));var i,s,n,r},r=(t,e)=>{let i;return function(){clearTimeout(i),i=setTimeout((()=>{t.apply(this,arguments)}),e)}};class o{constructor(t,e,i){this.selectorForm=t,this.url=e,this.apiOptions=i;const s=document.querySelector(this.selectorForm);s&&(this.form=s),this.form&&this.init()}init(){this.handlers()}getData(){const t=new FormData(this.form);return Array.from(t.entries()).reduce(((t,[e,i])=>(t[e]=i,t)),{})}submitForm(){return t=this,e=void 0,s=function*(){const t=this.getData(),{method:e}=this.apiOptions;let i=this.url;if("get"===e){const e=new URLSearchParams;Object.entries(t).forEach((([t,i])=>e.append(t,String(i)))),i=`${this.url}?${e.toString()}`}else this.apiOptions=Object.assign(Object.assign({},this.apiOptions),{body:JSON.stringify(t)});return yield n(i,this.apiOptions)},new((i=void 0)||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function l(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,l)}a((s=s.apply(t,e||[])).next())}));var t,e,i,s}validateForm(){}resetForm(){}handlers(){this.form.addEventListener("submit",(t=>{t.preventDefault(),this.submitForm()}))}}class l{constructor(){this.selectorContainer=".login",this.selectorBtnSignIn=".login__choice-sign-in",this.selectorBtnSignUp=".login__choice-sign-up";const t=document.querySelector(this.selectorContainer);t&&(this.containerElem=t);const e=document.querySelector(this.selectorBtnSignIn);e&&(this.btnSignInElem=e);const i=document.querySelector(this.selectorBtnSignUp);i&&(this.btnSignUpElem=i),this.btnSignInElem&&this.btnSignUpElem?this.init():console.error(`No items found: ${this.selectorBtnSignIn}, ${this.selectorBtnSignUp}`)}init(){this.handlers()}toggle(t){t.closest(this.selectorBtnSignIn)?(this.containerElem.classList.remove(`${this.selectorContainer.substring(1)}--sign-up`),this.containerElem.classList.add(`${this.selectorContainer.substring(1)}--sign-in`)):(this.containerElem.classList.remove(`${this.selectorContainer.substring(1)}--sign-in`),this.containerElem.classList.add(`${this.selectorContainer.substring(1)}--sign-up`))}clickHandler(t){const e=t.target;(e.closest(this.selectorBtnSignIn)||e.closest(this.selectorBtnSignUp))&&this.toggle(e)}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}class a{constructor(){this.selectedOption=t=>{console.log("selected option autocomplete",t),"pickup"===this.deliveryType&&(t.value?(this.searchPickupBtnElem.disabled=!1,this.mapPickupBtnElem.disabled=!1,this.pickupSelected=t,window.innerWidth<1200?this.pickupInputElem.value=t.label:this.searchInputElem.value=t.label):(this.searchPickupBtnElem.disabled=!0,this.mapPickupBtnElem.disabled=!0,this.pickupSelected={label:"",value:""},window.innerWidth<1200?this.pickupInputElem.value="":this.searchInputElem.value="")),"courier"===this.deliveryType&&(t.value?(this.mapCourierBtnElem.disabled=!1,this.courierSelected=t,this.courierFullAddressElem.innerHTML="",this.courierFullAddressElem.innerHTML=t.label):(this.mapCourierBtnElem.disabled=!0,this.courierSelected={label:"",value:""},this.courierFullAddressElem.innerHTML=""))},this.mapId="#maps",this.searchPickupId="#search-pickup",this.courierAddressId="#courier",this.templateAddressId="#address",this.isLoadMap=!1,this.deliveryType="pickup",this.headerSelector=".header",this.mapSelector=".map",this.courierSelector=".courier",this.searchPickupSelector=".search-pickup",this.pickupInputSelector=".map__autocomplete--pickup input",this.courierInputSelector=".map__autocomplete--courier input",this.searchInputSelector=`${this.searchPickupSelector} input`,this.mapYandexSelector=".map__yandex",this.addressSelector=".location__address",this.addressSelectedSelector=`${this.addressSelector}--selected`,this.addressRemoveSelector=`${this.addressSelector}-remove`,this.locationAddressesSelector=".location__addresses",this.radioDeliveryName="choose-delivery",this.courierFullAddress=`${this.courierSelector}__actions-inputs-full`,this.searchPickupBtnSelector=`${this.searchPickupSelector}__btn`,this.mapPickupBtnSelector=`${this.mapSelector}__btn--pickup`,this.mapCourierBtnSelector=`${this.mapSelector}__btn--courier`,this.addressElems=Array.from(document.querySelectorAll(this.addressSelector));const t=document.querySelector(this.mapId);t&&(this.iframeMapElem=t);const e=document.querySelector(this.templateAddressId);e&&(this.templateAddressElem=e);const i=document.querySelector(this.searchPickupId);i&&(this.searchPickupElem=i);const s=this.searchPickupElem.querySelector(this.searchInputSelector);s&&(this.searchInputElem=s);const n=this.searchPickupElem.querySelector(this.searchPickupBtnSelector);n&&(this.searchPickupBtnElem=n);const r=document.querySelector(this.courierAddressId);r&&(this.courierAddressElem=r);const o=document.querySelector(this.mapSelector);o&&(this.mapElem=o);const l=document.querySelector(this.mapYandexSelector);l&&(this.mapYandexElem=l);const a=this.mapElem.querySelector(this.mapPickupBtnSelector);a&&(this.mapPickupBtnElem=a);const c=this.mapElem.querySelector(this.mapCourierBtnSelector);c&&(this.mapCourierBtnElem=c);const u=document.querySelector(this.pickupInputSelector);u&&(this.pickupInputElem=u);const h=document.querySelector(this.courierInputSelector);h&&(this.courierInputElem=h);const d=document.querySelector(this.headerSelector);d&&(this.headerElem=d);const p=document.querySelector(this.locationAddressesSelector);p&&(this.locationAddressesElem=p);const m=document.querySelector(this.courierFullAddress);m&&(this.courierFullAddressElem=m),this.init()}init(){this.handlers(),this.mapElem.classList.add(`${this.mapSelector.substring(1)}--pickup`),window.matchMedia("(min-width:1200px)").addListener((t=>this.breakpointChecker(t))),navigator.geolocation.getCurrentPosition((function(t){console.log("geolocation",t.coords.latitude,t.coords.longitude)}),(function(t){console.log(t.message)}))}breakpointChecker(t){t.matches&&(this.searchPickupElem.classList.remove("popup--open"),this.courierAddressElem.classList.remove("popup--open"))}selectedAddress(t){this.addressElems.forEach((e=>{e.classList.remove(this.addressSelectedSelector.substring(1)),e===t&&e.classList.add(this.addressSelectedSelector.substring(1))}))}addAddress(t){let e=!0;if(this.pickupSelected&&(e=this.addressElems.some((t=>{var e;return t.dataset.value===(null===(e=this.pickupSelected)||void 0===e?void 0:e.value)}))),this.courierSelected&&(e=this.addressElems.some((t=>{var e;return t.dataset.value===(null===(e=this.courierSelected)||void 0===e?void 0:e.value)}))),!e){const e=this.templateAddressElem.content.cloneNode(!0),i=e.querySelector(".location__address"),s=e.querySelector(".location__address-option"),n=e.querySelector(".location__address-address");i&&s&&n&&("pickup"===t&&this.pickupSelected&&(n.textContent=this.pickupSelected.label,s.textContent="Пункт выдачи",i.dataset.value=this.pickupSelected.value),"courier"===t&&this.courierSelected&&(n.textContent=this.courierSelected.label,s.textContent="Доставка по адресу",i.dataset.value=this.courierSelected.value)),this.locationAddressesElem.prepend(e),this.addressElems=Array.from(document.querySelectorAll(this.addressSelector))}}removeAddress(t){return e=this,i=void 0,n=function*(){const e=t.dataset.value;console.log("remove address",e),t.remove(),this.addressElems=Array.from(document.querySelectorAll(this.addressSelector))},new((s=void 0)||(s=Promise))((function(t,r){function o(t){try{a(n.next(t))}catch(t){r(t)}}function l(t){try{a(n.throw(t))}catch(t){r(t)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(o,l)}a((n=n.apply(e,i||[])).next())}));var e,i,s,n}openPopup(t){t.classList.add("popup--open")}changeDelivery(t){"courier"===t?(this.mapElem.classList.remove(`${this.mapSelector.substring(1)}--pickup`),this.mapElem.classList.add(`${this.mapSelector.substring(1)}--courier`)):(this.mapElem.classList.remove(`${this.mapSelector.substring(1)}--courier`),this.mapElem.classList.add(`${this.mapSelector.substring(1)}--pickup`)),this.deliveryType=t}loadMap(){const t=this.iframeMapElem.dataset.src;this.iframeMapElem.addEventListener("load",(()=>{this.mapYandexElem.classList.add(`${this.mapYandexSelector.substring(1)}--load`)})),t&&(this.iframeMapElem.src=t,this.isLoadMap=!0)}clickHandler(t){const e=t.target,i=e.closest(this.addressSelector),s=e.closest(this.addressRemoveSelector);!this.isLoadMap&&e.closest('[data-popup="map"]')&&this.loadMap(),s&&i&&this.removeAddress(i),i&&!s&&this.selectedAddress(i),this.mapPickupBtnElem.contains(e)&&this.addAddress("pickup"),this.mapCourierBtnElem.contains(e)&&window.innerWidth<1200&&this.openPopup(this.courierAddressElem)}focusHandler(t){t.target===this.pickupInputElem&&window.innerWidth<1200&&"pickup"===this.deliveryType&&(this.openPopup(this.searchPickupElem),this.pickupInputElem.blur())}changeHandler(t){const e=t.target,i=e.name,s=e.value;i===this.radioDeliveryName&&this.changeDelivery(s)}handlers(){this.headerElem.addEventListener("click",(t=>this.clickHandler(t))),this.headerElem.addEventListener("focusin",(t=>this.focusHandler(t))),this.headerElem.addEventListener("change",(t=>this.changeHandler(t)))}}var c,u,h=function(t,e,i,s){return new(i||(i=Promise))((function(n,r){function o(t){try{a(s.next(t))}catch(t){r(t)}}function l(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(o,l)}a((s=s.apply(t,e||[])).next())}))};class d{constructor({id:t,url:e,callback:i}){this.fetchController=null,this.id=t,this.url=e,this.callback=i,this.isOpen=!1,this.containerSelector=".autocomplete",this.inputWrapperSelector=`${this.containerSelector}__input`,this.optionsSelector=`${this.containerSelector}__options`,this.itemSelector=`${this.containerSelector}__options-item`;const s=document.querySelector(`#${this.id}`);s&&(this.containerElem=s);const n=this.containerElem.querySelector(this.inputWrapperSelector);n&&(this.inputWrapperElem=n);const r=this.inputWrapperElem.querySelector("input");r&&(this.inputElem=r);const o=this.containerElem.querySelector("input[hidden]");o&&(this.hiddenInputElem=o);const l=this.containerElem.querySelector(this.optionsSelector);l&&(this.optionsElem=l),this.init()}init(){this.handlers(),this.collectedInitialOptions(),this.debounce=r(this.fetchOptions,200)}renderOptions(){this.optionsElem.innerHTML="";const t=this.searchOptions.map((({label:t,value:e})=>`<li class="autocomplete__options-item" data-value="${e}" tabindex="0">${t}</li>`)).join("");this.optionsElem.innerHTML=t}collectedInitialOptions(){const t=Array.from(this.containerElem.querySelectorAll(this.itemSelector)).reduce(((t,e)=>{const i=e.innerHTML,s=e.dataset.value;return i&&s?[...t,{label:i,value:s}]:t}),[]);this.options=t}toggle(){this.isOpen=!this.isOpen,this.containerElem.classList.toggle("active")}selected(t){const e=t.dataset.value,i=t.innerHTML;i&&(this.inputElem.value=i),e&&(this.hiddenInputElem.value=e),e&&i&&(this.selectedOption={label:i,value:e}),this.callback&&i&&e&&this.callback({label:i,value:e}),Array.from(this.optionsElem.children).forEach((t=>{t.classList.remove("active"),t.dataset.value===e&&t.classList.add("active")})),this.toggle()}fetchOptions(t){return h(this,void 0,void 0,(function*(){this.fetchController=new AbortController,this.containerElem.classList.add("load");const e=yield n(`${this.url}?search=${t}`,{fetchController:this.fetchController});this.containerElem.classList.remove("load"),e.error&&"AbortError"!==e.error.name?console.error("Error fetching data:",e.error):Array.isArray(e.data)&&(this.searchOptions=e.data,this.renderOptions())}))}searchMatch(t){var e;return h(this,void 0,void 0,(function*(){if(this.url)return this.fetchController&&(null===(e=this.fetchController)||void 0===e||e.abort()),void(t&&t.length>2?this.debounce(t):(this.searchOptions=[],this.renderOptions()));const i=new RegExp(t,"i"),s=this.options.filter((t=>i.test(t.label)));this.searchOptions=s,this.renderOptions()}))}clickHandler(t){const e=t.target;(this.inputWrapperElem.contains(e)||!this.containerElem.contains(e)&&this.isOpen)&&this.toggle(),this.containerElem.contains(e)&&e.closest(this.itemSelector)&&this.selected(e)}inputHandler(t){const e=t.target;this.containerElem.contains(e)&&(this.searchMatch(e.value),this.isOpen||this.toggle())}setInput(t){var e,i;t.value=null!==(i=null===(e=this.selectedOption)||void 0===e?void 0:e.label)&&void 0!==i?i:""}blurHandler(t){var e;const i=t.target;0===i.value.length&&(null===(e=this.selectedOption)||void 0===e?void 0:e.label)&&this.setInput(i)}searchHandler(){this.selectedOption=null,this.hiddenInputElem.value="",this.callback&&this.callback({label:"",value:""})}handlers(){document.addEventListener("click",(t=>this.clickHandler(t))),document.addEventListener("input",(t=>this.inputHandler(t))),this.inputElem.addEventListener("blur",(t=>this.blurHandler(t))),this.inputElem.addEventListener("search",(()=>this.searchHandler()))}}class p{constructor(){this.selectorSelect=".select",this.selectorHeader=".select__header",this.selectorTitle=".select__title",this.selectorOptions=".select__options",this.selectorItem=".select__options-item",this.selectorIcon=".select__icon",this.allSelects=Array.from(document.querySelectorAll(".select")),0!==this.allSelects.length&&this.init()}init(){this.initialOption(),this.handlers()}initialOption(){this.allSelects.forEach((t=>{var e;const i=null===(e=t.querySelector("input"))||void 0===e?void 0:e.value,s=t.querySelector(this.selectorTitle);if(null==s?void 0:s.textContent)return;let n,r;if(i){const e=t.querySelector(`[data-value=${i}]`);n=null==e?void 0:e.innerHTML,r=e}else{const e=t.querySelector(this.selectorItem);n=null==e?void 0:e.innerHTML,r=e}s&&n&&(s.innerHTML=n),null==r||r.classList.add("active")}))}toggle(t){const e=t.querySelector(this.selectorIcon);null==e||e.classList.toggle("active"),t.classList.toggle("active")}changeOption(t,e){var i;const s=t.querySelector(this.selectorTitle),n=t.querySelector("input"),r=e.dataset.value,o=e.innerHTML;s&&n&&r&&(s.innerHTML=o,n.value=r,this.toggle(t)),t.querySelectorAll(this.selectorItem).forEach((t=>t.classList.remove("active"))),null===(i=null==e?void 0:e.closest(this.selectorItem))||void 0===i||i.classList.add("active")}clickHandler(t){const e=t.target,i=null==e?void 0:e.closest(this.selectorSelect);i&&(this.allSelects.forEach((t=>{if(i!==t){t.classList.remove("active");const e=t.querySelector(this.selectorIcon);null==e||e.classList.remove("active")}})),(null==e?void 0:e.closest(this.selectorHeader))&&this.toggle(i),(null==e?void 0:e.closest(this.selectorOptions))&&this.changeOption(i,e))}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}window.addEventListener("load",(()=>{let t;!function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();try{new i}catch(t){console.log(t)}try{new s}catch(t){console.log(t)}try{new o(".login__form-sign-in",e.autocomplete,{method:"post"})}catch(t){console.log(t)}try{new o(".login__form-sign-up",e.autocomplete,{method:"post"})}catch(t){console.log(t)}try{new l}catch(t){console.log(t)}try{t=new a}catch(t){console.log(t)}try{new d({id:"pickup-autocomplete",url:e.autocomplete,callback:null==t?void 0:t.selectedOption})}catch(t){console.log(t)}try{new d({id:"courier-autocomplete",url:e.autocomplete,callback:null==t?void 0:t.selectedOption})}catch(t){console.log(t)}try{new d({id:"search-pickup-autocomplete",url:e.autocomplete,callback:null==t?void 0:t.selectedOption})}catch(t){console.log(t)}try{new p}catch(t){console.log(t)}}));class m{constructor(){this.selector=".collapse",this.init()}init(){this.handlers()}toggleCollapse(t){const e=t.closest(this.selector);e&&(e.classList.contains("collapse--close")?(e.classList.remove("collapse--close"),e.classList.add("collapse--open")):(null==e?void 0:e.classList.contains("collapse--open"))?(e.classList.remove("collapse--open"),e.classList.add("collapse--close")):e.classList.add("collapse--close"))}clickHandler(t){const e=t.target;if(e.closest(".collapse__head")&&"INPUT"!==e.tagName)return this.toggleCollapse(e)}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}class f{constructor({selectorMain:t,selectorContainer:e,selectorActionBtn:i}){this.selectorContainer=e,this.selectorActionBtn=i,this.selectorFilterWrapper=`${t}__form-filter`,this.selectorFiltersWrapper=`${t}__form-filter-filters`,this.selectorChips=`${t}__form-chips`,this.selectorFilterCross=`${t}__form-filter-cross`,this.selectorChipCross=".chip__cross",this.selectorClearBtn=`${t}__form-filter-clear`,this.selectorSubmitBtn=`${t}__form-filter-submit`,this.selectorBtnCount=`${t}__actions-filters-count`,this.selectorIconCross=`${t}__actions-icon--cross`,this.isOpen=!1;const s=document.querySelector(this.selectorContainer);s&&(this.container=s);const n=document.querySelector(this.selectorActionBtn);n&&(this.filterActionBtn=n);const r=this.container.querySelector(this.selectorFilterWrapper);r&&(this.filterWrapper=r);const o=this.container.querySelector(this.selectorFiltersWrapper);o&&(this.filtersWrapper=o);const l=this.container.querySelector(this.selectorChips);l&&(this.chipsWrapper=l);const a=this.filterActionBtn.querySelector(this.selectorBtnCount);a&&(this.btnCount=a);const c=this.filterWrapper.querySelector(this.selectorSubmitBtn);c&&(this.submitBtn=c);const u=this.filterWrapper.querySelector(this.selectorClearBtn);u&&(this.clearBtn=u);const h=this.container.querySelector(this.selectorFilterCross);h&&(this.filterCross=h),this.category=this.selectorContainer.split("-").pop(),this.filterActionBtn&&this.container&&this.init()}init(){this.handlers(),this.collectionOptions(),window.matchMedia("(min-width:1200px)").addListener((t=>this.breakpointChecker(t)))}breakpointChecker(t){if(!this.container.classList.contains("hide")){if(t.matches&&this.isOpen)return document.body.classList.remove("overflow");!t.matches&&this.isOpen&&document.body.classList.add("overflow")}}chipTemplate(t,e,i){return`\n      <div class="chip">\n        <span class="chip__title">${t}:</span>\n        <span class="chip__options">${e}</span>\n        ${i>0?`<span class="chip__more">и еще ${i}</span>`:""}\n        <svg class="chip__cross">\n          <use xlink:href="./img/icons/icons.svg#cross"></use>\n        </svg>\n      </div>\n    `}collectionOptions(){this.filters=Array.from(this.filtersWrapper.querySelectorAll(".filters__item")).reduce(((t,e)=>{var i,s;const n=null===(s=null===(i=e.querySelector(".collapse__head-title"))||void 0===i?void 0:i.textContent)||void 0===s?void 0:s.trim(),r=Array.from(e.querySelectorAll('input[type="checkbox"]:checked')).map((t=>{var e,i,s;return null===(s=null===(i=null===(e=t.closest(".checkbox"))||void 0===e?void 0:e.querySelector(".checkbox__label"))||void 0===i?void 0:i.textContent)||void 0===s?void 0:s.trim()})).sort()||[];return n&&(t[n]={selectedOptions:r,moreCount:r.length-3}),t}),{}),this.displayChips(),this.changeCount()}changeCount(){const t=Object.entries(this.filters).reduce(((t,e)=>t+e[1].selectedOptions.length),0);this.selectedCount=t;const e=this.submitBtn.querySelector(".btn__suffix");t?(this.filterActionBtn.classList.add("btn--tag","btn--tag-checked"),this.filterActionBtn.classList.remove("btn--color-grey"),this.btnCount.innerHTML=String(t),this.btnCount.classList.add(`${this.selectorBtnCount.substring(1)}--active`),e.innerHTML=`(${t})`):(this.filterActionBtn.classList.remove("btn--tag","btn--tag-checked"),this.filterActionBtn.classList.add("btn--color-grey"),this.btnCount.innerHTML="",this.btnCount.classList.remove(`${this.selectorBtnCount.substring(1)}--active`),e.innerHTML="")}changeOptions(t){var e,i,s,n,r,o,l,a,c,u;const{checked:h}=t,d=null===(s=null===(i=null===(e=t.closest(".collapse"))||void 0===e?void 0:e.querySelector(".collapse__head-title"))||void 0===i?void 0:i.textContent)||void 0===s?void 0:s.trim(),p=null===(o=null===(r=null===(n=t.closest(".checkbox"))||void 0===n?void 0:n.querySelector(".checkbox__label"))||void 0===r?void 0:r.textContent)||void 0===o?void 0:o.trim(),m=t.classList.contains("range__input");if(d&&p){const t=this.filters[d].selectedOptions;this.filters[d].selectedOptions=h?[...t,p].sort():t.filter((t=>t!==p)),this.filters[d].moreCount=this.filters[d].selectedOptions.length-3}if(m&&d){const e=t.value;if("min"in t.dataset){const i=null===(a=null===(l=t.closest(".range__inputs"))||void 0===l?void 0:l.querySelector(".range__input-max"))||void 0===a?void 0:a.value;this.filters[d].selectedOptions=[`от ${e} до ${i}`]}if("max"in t.dataset){const i=null===(u=null===(c=t.closest(".range__inputs"))||void 0===c?void 0:c.querySelector(".range__input-min"))||void 0===u?void 0:u.value;this.filters[d].selectedOptions=[`от ${i} до ${e}`]}}this.chipsWrapper.innerHTML="",this.displayChips(),this.toggleChips(),this.changeCount()}displayChips(){const t=Object.entries(this.filters).filter((t=>t[1].selectedOptions.length));t.length&&t.forEach((([t,{moreCount:e,selectedOptions:i}])=>{const s=i.slice(0,3).join(", "),n=this.chipTemplate(t,s,e);this.chipsWrapper&&(this.chipsWrapper.innerHTML+=n,this.chipsWrapper.classList.add("active"))}))}removeChips(t){var e,i;const s=t.closest(".chip"),n=null===(i=null===(e=null==s?void 0:s.querySelector(".chip__title"))||void 0===e?void 0:e.textContent)||void 0===i?void 0:i.trim().replace(":","");if(n){const t=Array.from(this.filterWrapper.querySelectorAll(".collapse__head-title")).filter((t=>{var e;return(null===(e=null==t?void 0:t.textContent)||void 0===e?void 0:e.trim())===n})),e=t[0].closest(".filters__item"),i=null==e?void 0:e.querySelectorAll('input[type="checkbox"]:checked');null==i||i.forEach((t=>t.checked=!1)),this.filters[n].selectedOptions=[]}null==s||s.remove(),this.toggleChips(),this.changeCount()}toggleChips(){this.chipsWrapper&&0===Array.from(this.chipsWrapper.children||[]).length&&this.chipsWrapper.classList.remove("active")}toggleFilter(){this.isOpen?(this.filterWrapper.classList.remove("active"),this.filterActionBtn.classList.remove("active"),this.selectedCount&&(this.filterActionBtn.classList.add("hide-icon"),this.filterActionBtn.classList.remove("hide-count")),this.isOpen=!1,document.body.classList.remove("overflow")):(this.filterWrapper.classList.add("active"),this.filterActionBtn.classList.add("active"),this.selectedCount&&(this.filterActionBtn.classList.remove("hide-icon"),this.filterActionBtn.classList.add("hide-count")),this.isOpen=!0,window.innerWidth<1200&&document.body.classList.add("overflow"))}clearAllFilters(){Object.entries(this.filters).forEach((t=>{t[1].selectedOptions=[],t[1].moreCount=-3}));const t=this.filtersWrapper.querySelectorAll('input[type="checkbox"]:checked');null==t||t.forEach((t=>t.checked=!1)),this.chipsWrapper&&(this.chipsWrapper.innerHTML="",this.chipsWrapper.classList.remove("active")),this.changeCount()}clickHandler(t){const e=t.target;return this.filterActionBtn.contains(e)||this.filterCross.contains(e)?this.toggleFilter():e.closest(this.selectorChipCross)&&this.container.contains(e)?this.removeChips(e):e.classList.contains("clear-filters")&&this.isOpen?this.clearAllFilters():void 0}changeHandler(t){const e=t.target;this.changeOptions(e)}checkPopup(t){if(this.isOpen){const e=t.detail.split("-").pop();e===this.category&&document.body.classList.add("overflow"),"clearFilter"===e&&window.innerWidth<1200&&document.body.classList.add("overflow")}}handlers(){document.addEventListener("click",(t=>this.clickHandler(t))),document.addEventListener("closePopup",(t=>this.checkPopup(t))),this.filterWrapper.addEventListener("change",(t=>this.changeHandler(t)))}}function v(t){return"object"==typeof t&&"function"==typeof t.to}function g(t){t.parentElement.removeChild(t)}function S(t){return null!=t}function b(t){t.preventDefault()}function y(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function E(t,e,i){i>0&&(k(t,e),setTimeout((function(){L(t,e)}),i))}function w(t){return Math.max(Math.min(t,100),0)}function C(t){return Array.isArray(t)?t:[t]}function x(t){var e=(t=String(t)).split(".");return e.length>1?e[1].length:0}function k(t,e){t.classList&&!/\s/.test(e)?t.classList.add(e):t.className+=" "+e}function L(t,e){t.classList&&!/\s/.test(e)?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function A(t){var e=void 0!==window.pageXOffset,i="CSS1Compat"===(t.compatMode||"");return{x:e?window.pageXOffset:i?t.documentElement.scrollLeft:t.body.scrollLeft,y:e?window.pageYOffset:i?t.documentElement.scrollTop:t.body.scrollTop}}function _(t,e){return 100/(e-t)}function P(t,e,i){return 100*e/(t[i+1]-t[i])}function O(t,e){for(var i=1;t>=e[i];)i+=1;return i}!function(t){t.Range="range",t.Steps="steps",t.Positions="positions",t.Count="count",t.Values="values"}(c||(c={})),function(t){t[t.None=-1]="None",t[t.NoValue=0]="NoValue",t[t.LargeValue=1]="LargeValue",t[t.SmallValue=2]="SmallValue"}(u||(u={}));var N=function(){function t(t,e,i){var s;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=e;var n=[];for(Object.keys(t).forEach((function(e){n.push([C(t[e]),e])})),n.sort((function(t,e){return t[0][0]-e[0][0]})),s=0;s<n.length;s++)this.handleEntryPoint(n[s][1],n[s][0]);for(this.xNumSteps=this.xSteps.slice(0),s=0;s<this.xNumSteps.length;s++)this.handleStepPoint(s,this.xNumSteps[s])}return t.prototype.getDistance=function(t){for(var e=[],i=0;i<this.xNumSteps.length-1;i++)e[i]=P(this.xVal,t,i);return e},t.prototype.getAbsoluteDistance=function(t,e,i){var s,n=0;if(t<this.xPct[this.xPct.length-1])for(;t>this.xPct[n+1];)n++;else t===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);i||t!==this.xPct[n+1]||n++,null===e&&(e=[]);var r=1,o=e[n],l=0,a=0,c=0,u=0;for(s=i?(t-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):(this.xPct[n+1]-t)/(this.xPct[n+1]-this.xPct[n]);o>0;)l=this.xPct[n+1+u]-this.xPct[n+u],e[n+u]*r+100-100*s>100?(a=l*s,r=(o-100*s)/e[n+u],s=1):(a=e[n+u]*l/100*r,r=0),i?(c-=a,this.xPct.length+u>=1&&u--):(c+=a,this.xPct.length-u>=1&&u++),o=e[n+u]*r;return t+c},t.prototype.toStepping=function(t){return function(t,e,i){if(i>=t.slice(-1)[0])return 100;var s=O(i,t),n=t[s-1],r=t[s],o=e[s-1],l=e[s];return o+function(t,e){return P(t,t[0]<0?e+Math.abs(t[0]):e-t[0],0)}([n,r],i)/_(o,l)}(this.xVal,this.xPct,t)},t.prototype.fromStepping=function(t){return function(t,e,i){if(i>=100)return t.slice(-1)[0];var s=O(i,e),n=t[s-1],r=t[s],o=e[s-1];return function(t,e){return e*(t[1]-t[0])/100+t[0]}([n,r],(i-o)*_(o,e[s]))}(this.xVal,this.xPct,t)},t.prototype.getStep=function(t){return function(t,e,i,s){if(100===s)return s;var n=O(s,t),r=t[n-1],o=t[n];return i?s-r>(o-r)/2?o:r:e[n-1]?t[n-1]+function(t,e){return Math.round(t/e)*e}(s-t[n-1],e[n-1]):s}(this.xPct,this.xSteps,this.snap,t)},t.prototype.getDefaultStep=function(t,e,i){var s=O(t,this.xPct);return(100===t||e&&t===this.xPct[s-1])&&(s=Math.max(s-1,1)),(this.xVal[s]-this.xVal[s-1])/i},t.prototype.getNearbySteps=function(t){var e=O(t,this.xPct);return{stepBefore:{startValue:this.xVal[e-2],step:this.xNumSteps[e-2],highestStep:this.xHighestCompleteStep[e-2]},thisStep:{startValue:this.xVal[e-1],step:this.xNumSteps[e-1],highestStep:this.xHighestCompleteStep[e-1]},stepAfter:{startValue:this.xVal[e],step:this.xNumSteps[e],highestStep:this.xHighestCompleteStep[e]}}},t.prototype.countStepDecimals=function(){var t=this.xNumSteps.map(x);return Math.max.apply(null,t)},t.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},t.prototype.convert=function(t){return this.getStep(this.toStepping(t))},t.prototype.handleEntryPoint=function(t,e){var i;if(!y(i="min"===t?0:"max"===t?100:parseFloat(t))||!y(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(i),this.xVal.push(e[0]);var s=Number(e[1]);i?this.xSteps.push(!isNaN(s)&&s):isNaN(s)||(this.xSteps[0]=s),this.xHighestCompleteStep.push(0)},t.prototype.handleStepPoint=function(t,e){if(e)if(this.xVal[t]!==this.xVal[t+1]){this.xSteps[t]=P([this.xVal[t],this.xVal[t+1]],e,0)/_(this.xPct[t],this.xPct[t+1]);var i=(this.xVal[t+1]-this.xVal[t])/this.xNumSteps[t],s=Math.ceil(Number(i.toFixed(3))-1),n=this.xVal[t]+this.xNumSteps[t]*s;this.xHighestCompleteStep[t]=n}else this.xSteps[t]=this.xHighestCompleteStep[t]=this.xVal[t]},t}(),B={to:function(t){return void 0===t?"":t.toFixed(2)},from:Number},M={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},H=".__tooltips",q=".__aria";function V(t,e){if(!y(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function I(t,e){if(!y(e))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");t.keyboardPageMultiplier=e}function T(t,e){if(!y(e))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");t.keyboardMultiplier=e}function U(t,e){if(!y(e))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");t.keyboardDefaultStep=e}function $(t,e){if("object"!=typeof e||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new N(e,t.snap||!1,t.singleStep)}function W(t,e){if(e=C(e),!Array.isArray(e)||!e.length)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function D(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.");t.snap=e}function F(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.");t.animate=e}function j(t,e){if("number"!=typeof e)throw new Error("noUiSlider: 'animationDuration' option must be a number.");t.animationDuration=e}function z(t,e){var i,s=[!1];if("lower"===e?e=[!0,!1]:"upper"===e&&(e=[!1,!0]),!0===e||!1===e){for(i=1;i<t.handles;i++)s.push(e);s.push(!1)}else{if(!Array.isArray(e)||!e.length||e.length!==t.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");s=e}t.connect=s}function R(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Y(t,e){if(!y(e))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==e&&(t.margin=t.spectrum.getDistance(e))}function X(t,e){if(!y(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getDistance(e),!t.limit||t.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function J(t,e){var i;if(!y(e)&&!Array.isArray(e))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(e)&&2!==e.length&&!y(e[0])&&!y(e[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==e){for(Array.isArray(e)||(e=[e,e]),t.padding=[t.spectrum.getDistance(e[0]),t.spectrum.getDistance(e[1])],i=0;i<t.spectrum.xNumSteps.length-1;i++)if(t.padding[0][i]<0||t.padding[1][i]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var s=e[0]+e[1],n=t.spectrum.xVal[0];if(s/(t.spectrum.xVal[t.spectrum.xVal.length-1]-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function G(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Q(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var i=e.indexOf("tap")>=0,s=e.indexOf("drag")>=0,n=e.indexOf("fixed")>=0,r=e.indexOf("snap")>=0,o=e.indexOf("hover")>=0,l=e.indexOf("unconstrained")>=0,a=e.indexOf("drag-all")>=0,c=e.indexOf("smooth-steps")>=0;if(n){if(2!==t.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Y(t,t.start[1]-t.start[0])}if(l&&(t.margin||t.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");t.events={tap:i||r,drag:s,dragAll:a,smoothSteps:c,fixed:n,snap:r,hover:o,unconstrained:l}}function K(t,e){if(!1!==e)if(!0===e||v(e)){t.tooltips=[];for(var i=0;i<t.handles;i++)t.tooltips.push(e)}else{if((e=C(e)).length!==t.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");e.forEach((function(t){if("boolean"!=typeof t&&!v(t))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),t.tooltips=e}}function Z(t,e){if(e.length!==t.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");t.handleAttributes=e}function tt(t,e){if(!v(e))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");t.ariaFormat=e}function et(t,e){if(!function(t){return v(t)&&"function"==typeof t.from}(e))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");t.format=e}function it(t,e){if("boolean"!=typeof e)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");t.keyboardSupport=e}function st(t,e){t.documentElement=e}function nt(t,e){if("string"!=typeof e&&!1!==e)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");t.cssPrefix=e}function rt(t,e){if("object"!=typeof e)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof t.cssPrefix?(t.cssClasses={},Object.keys(e).forEach((function(i){t.cssClasses[i]=t.cssPrefix+e[i]}))):t.cssClasses=e}function ot(t){var e={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:B,format:B},i={step:{r:!1,t:V},keyboardPageMultiplier:{r:!1,t:I},keyboardMultiplier:{r:!1,t:T},keyboardDefaultStep:{r:!1,t:U},start:{r:!0,t:W},connect:{r:!0,t:z},direction:{r:!0,t:G},snap:{r:!1,t:D},animate:{r:!1,t:F},animationDuration:{r:!1,t:j},range:{r:!0,t:$},orientation:{r:!1,t:R},margin:{r:!1,t:Y},limit:{r:!1,t:X},padding:{r:!1,t:J},behaviour:{r:!0,t:Q},ariaFormat:{r:!1,t:tt},format:{r:!1,t:et},tooltips:{r:!1,t:K},keyboardSupport:{r:!0,t:it},documentElement:{r:!1,t:st},cssPrefix:{r:!0,t:nt},cssClasses:{r:!0,t:rt},handleAttributes:{r:!1,t:Z}},s={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:M,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};t.format&&!t.ariaFormat&&(t.ariaFormat=t.format),Object.keys(i).forEach((function(n){if(S(t[n])||void 0!==s[n])i[n].t(e,S(t[n])?t[n]:s[n]);else if(i[n].r)throw new Error("noUiSlider: '"+n+"' is required.")})),e.pips=t.pips;var n=document.createElement("div"),r=void 0!==n.style.msTransform,o=void 0!==n.style.transform;return e.transformRule=o?"transform":r?"msTransform":"webkitTransform",e.style=[["left","top"],["right","bottom"]][e.dir][e.ort],e}function lt(t,e,i){var s,n,r,o,l,a,h,d=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},p=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}(),m=t,f=e.spectrum,v=[],y=[],x=[],_=0,P={},O=t.ownerDocument,N=e.documentElement||O.documentElement,B=O.body,M="rtl"===O.dir||1===e.ort?0:100;function V(t,e){var i=O.createElement("div");return e&&k(i,e),t.appendChild(i),i}function I(t,i){var s=V(t,e.cssClasses.origin),n=V(s,e.cssClasses.handle);if(V(n,e.cssClasses.touchArea),n.setAttribute("data-handle",String(i)),e.keyboardSupport&&(n.setAttribute("tabindex","0"),n.addEventListener("keydown",(function(t){return function(t,i){if($()||W(i))return!1;var s=["Left","Right"],n=["Down","Up"],r=["PageDown","PageUp"],o=["Home","End"];e.dir&&!e.ort?s.reverse():e.ort&&!e.dir&&(n.reverse(),r.reverse());var l,a=t.key.replace("Arrow",""),c=a===r[0],u=a===r[1],h=a===n[0]||a===s[0]||c,d=a===n[1]||a===s[1]||u,p=a===o[1];if(!(h||d||a===o[0]||p))return!0;if(t.preventDefault(),d||h){var m=h?0:1,g=mt(i)[m];if(null===g)return!1;!1===g&&(g=f.getDefaultStep(y[i],h,e.keyboardDefaultStep)),g*=u||c?e.keyboardPageMultiplier:e.keyboardMultiplier,g=Math.max(g,1e-7),g*=h?-1:1,l=v[i]+g}else l=p?e.spectrum.xVal[e.spectrum.xVal.length-1]:e.spectrum.xVal[0];return ct(i,f.toStepping(l),!0,!0),it("slide",i),it("update",i),it("change",i),it("set",i),!1}(t,i)}))),void 0!==e.handleAttributes){var r=e.handleAttributes[i];Object.keys(r).forEach((function(t){n.setAttribute(t,r[t])}))}return n.setAttribute("role","slider"),n.setAttribute("aria-orientation",e.ort?"vertical":"horizontal"),0===i?k(n,e.cssClasses.handleLower):i===e.handles-1&&k(n,e.cssClasses.handleUpper),s.handle=n,s}function T(t,i){return!!i&&V(t,e.cssClasses.connect)}function U(t,i){return!(!e.tooltips||!e.tooltips[i])&&V(t.firstChild,e.cssClasses.tooltip)}function $(){return m.hasAttribute("disabled")}function W(t){return n[t].hasAttribute("disabled")}function D(){l&&(et("update"+H),l.forEach((function(t){t&&g(t)})),l=null)}function F(){D(),l=n.map(U),tt("update"+H,(function(t,i,s){if(l&&e.tooltips&&!1!==l[i]){var n=t[i];!0!==e.tooltips[i]&&(n=e.tooltips[i].to(s[i])),l[i].innerHTML=n}}))}function j(t,e){return t.map((function(t){return f.fromStepping(e?f.getStep(t):t)}))}function z(){o&&(g(o),o=null)}function R(t){z();var i=function(t){var e,i=function(t){if(t.mode===c.Range||t.mode===c.Steps)return f.xVal;if(t.mode===c.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var e=t.values-1,i=100/e,s=[];e--;)s[e]=e*i;return s.push(100),j(s,t.stepped)}return t.mode===c.Positions?j(t.values,t.stepped):t.mode===c.Values?t.stepped?t.values.map((function(t){return f.fromStepping(f.getStep(f.toStepping(t)))})):t.values:[]}(t),s={},n=f.xVal[0],r=f.xVal[f.xVal.length-1],o=!1,l=!1,a=0;return e=i.slice().sort((function(t,e){return t-e})),(i=e.filter((function(t){return!this[t]&&(this[t]=!0)}),{}))[0]!==n&&(i.unshift(n),o=!0),i[i.length-1]!==r&&(i.push(r),l=!0),i.forEach((function(e,n){var r,h,d,p,m,v,g,S,b,y,E=e,w=i[n+1],C=t.mode===c.Steps;for(C&&(r=f.xNumSteps[n]),r||(r=w-E),void 0===w&&(w=E),r=Math.max(r,1e-7),h=E;h<=w;h=Number((h+r).toFixed(7))){for(S=(m=(p=f.toStepping(h))-a)/(t.density||1),y=m/(b=Math.round(S)),d=1;d<=b;d+=1)s[(v=a+d*y).toFixed(5)]=[f.fromStepping(v),0];g=i.indexOf(h)>-1?u.LargeValue:C?u.SmallValue:u.NoValue,!n&&o&&h!==w&&(g=0),h===w&&l||(s[p.toFixed(5)]=[h,g]),a=p}})),s}(t),s=t.filter,n=t.format||{to:function(t){return String(Math.round(t))}};return o=m.appendChild(function(t,i,s){var n,r,o=O.createElement("div"),l=((n={})[u.None]="",n[u.NoValue]=e.cssClasses.valueNormal,n[u.LargeValue]=e.cssClasses.valueLarge,n[u.SmallValue]=e.cssClasses.valueSub,n),a=((r={})[u.None]="",r[u.NoValue]=e.cssClasses.markerNormal,r[u.LargeValue]=e.cssClasses.markerLarge,r[u.SmallValue]=e.cssClasses.markerSub,r),c=[e.cssClasses.valueHorizontal,e.cssClasses.valueVertical],h=[e.cssClasses.markerHorizontal,e.cssClasses.markerVertical];function d(t,i){var s=i===e.cssClasses.value,n=s?l:a;return i+" "+(s?c:h)[e.ort]+" "+n[t]}return k(o,e.cssClasses.pips),k(o,0===e.ort?e.cssClasses.pipsHorizontal:e.cssClasses.pipsVertical),Object.keys(t).forEach((function(n){!function(t,n,r){if((r=i?i(n,r):r)!==u.None){var l=V(o,!1);l.className=d(r,e.cssClasses.marker),l.style[e.style]=t+"%",r>u.NoValue&&((l=V(o,!1)).className=d(r,e.cssClasses.value),l.setAttribute("data-value",String(n)),l.style[e.style]=t+"%",l.innerHTML=String(s.to(n)))}}(n,t[n][0],t[n][1])})),o}(i,s,n))}function Y(){var t=s.getBoundingClientRect(),i="offset"+["Width","Height"][e.ort];return 0===e.ort?t.width||s[i]:t.height||s[i]}function X(t,i,s,n){var r=function(r){var o,l,a=function(t,e,i){var s=0===t.type.indexOf("touch"),n=0===t.type.indexOf("mouse"),r=0===t.type.indexOf("pointer"),o=0,l=0;if(0===t.type.indexOf("MSPointer")&&(r=!0),"mousedown"===t.type&&!t.buttons&&!t.touches)return!1;if(s){var a=function(e){var s=e.target;return s===i||i.contains(s)||t.composed&&t.composedPath().shift()===i};if("touchstart"===t.type){var c=Array.prototype.filter.call(t.touches,a);if(c.length>1)return!1;o=c[0].pageX,l=c[0].pageY}else{var u=Array.prototype.find.call(t.changedTouches,a);if(!u)return!1;o=u.pageX,l=u.pageY}}return e=e||A(O),(n||r)&&(o=t.clientX+e.x,l=t.clientY+e.y),t.pageOffset=e,t.points=[o,l],t.cursor=n||r,t}(r,n.pageOffset,n.target||i);return!!a&&!($()&&!n.doNotReject)&&(o=m,l=e.cssClasses.tap,!((o.classList?o.classList.contains(l):new RegExp("\\b"+l+"\\b").test(o.className))&&!n.doNotReject)&&!(t===d.start&&void 0!==a.buttons&&a.buttons>1)&&(!n.hover||!a.buttons)&&(p||a.preventDefault(),a.calcPoint=a.points[e.ort],void s(a,n)))},o=[];return t.split(" ").forEach((function(t){i.addEventListener(t,r,!!p&&{passive:!0}),o.push([t,r])})),o}function J(t){var i,n,r,o,l,a,c=100*(t-(i=s,n=e.ort,r=i.getBoundingClientRect(),l=(o=i.ownerDocument).documentElement,a=A(o),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(a.x=0),n?r.top+a.y-l.clientTop:r.left+a.x-l.clientLeft))/Y();return c=w(c),e.dir?100-c:c}function G(t,e){"mouseout"===t.type&&"HTML"===t.target.nodeName&&null===t.relatedTarget&&K(t,e)}function Q(t,i){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===t.buttons&&0!==i.buttonsProperty)return K(t,i);var s=(e.dir?-1:1)*(t.calcPoint-i.startCalcPoint);rt(s>0,100*s/i.baseSize,i.locations,i.handleNumbers,i.connect)}function K(t,i){i.handle&&(L(i.handle,e.cssClasses.active),_-=1),i.listeners.forEach((function(t){N.removeEventListener(t[0],t[1])})),0===_&&(L(m,e.cssClasses.drag),at(),t.cursor&&(B.style.cursor="",B.removeEventListener("selectstart",b))),e.events.smoothSteps&&(i.handleNumbers.forEach((function(t){ct(t,y[t],!0,!0,!1,!1)})),i.handleNumbers.forEach((function(t){it("update",t)}))),i.handleNumbers.forEach((function(t){it("change",t),it("set",t),it("end",t)}))}function Z(t,i){if(!i.handleNumbers.some(W)){var s;1===i.handleNumbers.length&&(s=n[i.handleNumbers[0]].children[0],_+=1,k(s,e.cssClasses.active)),t.stopPropagation();var r=[],o=X(d.move,N,Q,{target:t.target,handle:s,connect:i.connect,listeners:r,startCalcPoint:t.calcPoint,baseSize:Y(),pageOffset:t.pageOffset,handleNumbers:i.handleNumbers,buttonsProperty:t.buttons,locations:y.slice()}),l=X(d.end,N,K,{target:t.target,handle:s,listeners:r,doNotReject:!0,handleNumbers:i.handleNumbers}),a=X("mouseout",N,G,{target:t.target,handle:s,listeners:r,doNotReject:!0,handleNumbers:i.handleNumbers});r.push.apply(r,o.concat(l,a)),t.cursor&&(B.style.cursor=getComputedStyle(t.target).cursor,n.length>1&&k(m,e.cssClasses.drag),B.addEventListener("selectstart",b,!1)),i.handleNumbers.forEach((function(t){it("start",t)}))}}function tt(t,e){P[t]=P[t]||[],P[t].push(e),"update"===t.split(".")[0]&&n.forEach((function(t,e){it("update",e)}))}function et(t){var e=t&&t.split(".")[0],i=e?t.substring(e.length):t;Object.keys(P).forEach((function(t){var s=t.split(".")[0],n=t.substring(s.length);e&&e!==s||i&&i!==n||function(t){return t===q||t===H}(n)&&i!==n||delete P[t]}))}function it(t,i,s){Object.keys(P).forEach((function(n){var r=n.split(".")[0];t===r&&P[n].forEach((function(t){t.call(ft,v.map(e.format.to),i,v.slice(),s||!1,y.slice(),ft)}))}))}function st(t,i,s,r,o,l,a){var c;return n.length>1&&!e.events.unconstrained&&(r&&i>0&&(c=f.getAbsoluteDistance(t[i-1],e.margin,!1),s=Math.max(s,c)),o&&i<n.length-1&&(c=f.getAbsoluteDistance(t[i+1],e.margin,!0),s=Math.min(s,c))),n.length>1&&e.limit&&(r&&i>0&&(c=f.getAbsoluteDistance(t[i-1],e.limit,!1),s=Math.min(s,c)),o&&i<n.length-1&&(c=f.getAbsoluteDistance(t[i+1],e.limit,!0),s=Math.max(s,c))),e.padding&&(0===i&&(c=f.getAbsoluteDistance(0,e.padding[0],!1),s=Math.max(s,c)),i===n.length-1&&(c=f.getAbsoluteDistance(100,e.padding[1],!0),s=Math.min(s,c))),a||(s=f.getStep(s)),!((s=w(s))===t[i]&&!l)&&s}function nt(t,i){var s=e.ort;return(s?i:t)+", "+(s?t:i)}function rt(t,i,s,n,r){var o=s.slice(),l=n[0],a=e.events.smoothSteps,c=[!t,t],u=[t,!t];n=n.slice(),t&&n.reverse(),n.length>1?n.forEach((function(t,e){var s=st(o,t,o[t]+i,c[e],u[e],!1,a);!1===s?i=0:(i=s-o[t],o[t]=s)})):c=u=[!0];var h=!1;n.forEach((function(t,e){h=ct(t,s[t]+i,c[e],u[e],!1,a)||h})),h&&(n.forEach((function(t){it("update",t),it("slide",t)})),null!=r&&it("drag",l))}function lt(t,i){return e.dir?100-t-i:t}function at(){x.forEach((function(t){var e=y[t]>50?-1:1,i=3+(n.length+e*t);n[t].style.zIndex=String(i)}))}function ct(t,i,s,r,o,l){return o||(i=st(y,t,i,s,r,!1,l)),!1!==i&&(function(t,i){y[t]=i,v[t]=f.fromStepping(i);var s="translate("+nt(lt(i,0)-M+"%","0")+")";n[t].style[e.transformRule]=s,ut(t),ut(t+1)}(t,i),!0)}function ut(t){if(r[t]){var i=0,s=100;0!==t&&(i=y[t-1]),t!==r.length-1&&(s=y[t]);var n=s-i,o="translate("+nt(lt(i,n)+"%","0")+")",l="scale("+nt(n/100,"1")+")";r[t].style[e.transformRule]=o+" "+l}}function ht(t,i){return null===t||!1===t||void 0===t?y[i]:("number"==typeof t&&(t=String(t)),!1!==(t=e.format.from(t))&&(t=f.toStepping(t)),!1===t||isNaN(t)?y[i]:t)}function dt(t,i,s){var n=C(t),r=void 0===y[0];i=void 0===i||i,e.animate&&!r&&E(m,e.cssClasses.tap,e.animationDuration),x.forEach((function(t){ct(t,ht(n[t],t),!0,!1,s)}));var o=1===x.length?0:1;if(r&&f.hasNoSize()&&(s=!0,y[0]=0,x.length>1)){var l=100/(x.length-1);x.forEach((function(t){y[t]=t*l}))}for(;o<x.length;++o)x.forEach((function(t){ct(t,y[t],!0,!0,s)}));at(),x.forEach((function(t){it("update",t),null!==n[t]&&i&&it("set",t)}))}function pt(t){if(void 0===t&&(t=!1),t)return 1===v.length?v[0]:v.slice(0);var i=v.map(e.format.to);return 1===i.length?i[0]:i}function mt(t){var i=y[t],s=f.getNearbySteps(i),n=v[t],r=s.thisStep.step,o=null;if(e.snap)return[n-s.stepBefore.startValue||null,s.stepAfter.startValue-n||null];!1!==r&&n+r>s.stepAfter.startValue&&(r=s.stepAfter.startValue-n),o=n>s.thisStep.startValue?s.thisStep.step:!1!==s.stepBefore.step&&n-s.stepBefore.highestStep,100===i?r=null:0===i&&(o=null);var l=f.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(l))),null!==o&&!1!==o&&(o=Number(o.toFixed(l))),[o,r]}k(a=m,e.cssClasses.target),0===e.dir?k(a,e.cssClasses.ltr):k(a,e.cssClasses.rtl),0===e.ort?k(a,e.cssClasses.horizontal):k(a,e.cssClasses.vertical),k(a,"rtl"===getComputedStyle(a).direction?e.cssClasses.textDirectionRtl:e.cssClasses.textDirectionLtr),s=V(a,e.cssClasses.base),function(t,i){var s=V(i,e.cssClasses.connects);n=[],(r=[]).push(T(s,t[0]));for(var o=0;o<e.handles;o++)n.push(I(i,o)),x[o]=o,r.push(T(s,t[o+1]))}(e.connect,s),(h=e.events).fixed||n.forEach((function(t,e){X(d.start,t.children[0],Z,{handleNumbers:[e]})})),h.tap&&X(d.start,s,(function(t){t.stopPropagation();var i=J(t.calcPoint),s=function(t){var e=100,i=!1;return n.forEach((function(s,n){if(!W(n)){var r=y[n],o=Math.abs(r-t);(o<e||o<=e&&t>r||100===o&&100===e)&&(i=n,e=o)}})),i}(i);!1!==s&&(e.events.snap||E(m,e.cssClasses.tap,e.animationDuration),ct(s,i,!0,!0),at(),it("slide",s,!0),it("update",s,!0),e.events.snap?Z(t,{handleNumbers:[s]}):(it("change",s,!0),it("set",s,!0)))}),{}),h.hover&&X(d.move,s,(function(t){var e=J(t.calcPoint),i=f.getStep(e),s=f.fromStepping(i);Object.keys(P).forEach((function(t){"hover"===t.split(".")[0]&&P[t].forEach((function(t){t.call(ft,s)}))}))}),{hover:!0}),h.drag&&r.forEach((function(t,i){if(!1!==t&&0!==i&&i!==r.length-1){var s=n[i-1],o=n[i],l=[t],a=[s,o],c=[i-1,i];k(t,e.cssClasses.draggable),h.fixed&&(l.push(s.children[0]),l.push(o.children[0])),h.dragAll&&(a=n,c=x),l.forEach((function(e){X(d.start,e,Z,{handles:a,handleNumbers:c,connect:t})}))}})),dt(e.start),e.pips&&R(e.pips),e.tooltips&&F(),et("update"+q),tt("update"+q,(function(t,i,s,r,o){x.forEach((function(t){var i=n[t],r=st(y,t,0,!0,!0,!0),l=st(y,t,100,!0,!0,!0),a=o[t],c=String(e.ariaFormat.to(s[t]));r=f.fromStepping(r).toFixed(1),l=f.fromStepping(l).toFixed(1),a=f.fromStepping(a).toFixed(1),i.children[0].setAttribute("aria-valuemin",r),i.children[0].setAttribute("aria-valuemax",l),i.children[0].setAttribute("aria-valuenow",a),i.children[0].setAttribute("aria-valuetext",c)}))}));var ft={destroy:function(){for(et(q),et(H),Object.keys(e.cssClasses).forEach((function(t){L(m,e.cssClasses[t])}));m.firstChild;)m.removeChild(m.firstChild);delete m.noUiSlider},steps:function(){return x.map(mt)},on:tt,off:et,get:pt,set:dt,setHandle:function(t,e,i,s){if(!((t=Number(t))>=0&&t<x.length))throw new Error("noUiSlider: invalid handle number, got: "+t);ct(t,ht(e,t),!0,!0,s),it("update",t),i&&it("set",t)},reset:function(t){dt(e.start,t)},disable:function(t){null!=t?(n[t].setAttribute("disabled",""),n[t].handle.removeAttribute("tabindex")):(m.setAttribute("disabled",""),n.forEach((function(t){t.handle.removeAttribute("tabindex")})))},enable:function(t){null!=t?(n[t].removeAttribute("disabled"),n[t].handle.setAttribute("tabindex","0")):(m.removeAttribute("disabled"),n.forEach((function(t){t.removeAttribute("disabled"),t.handle.setAttribute("tabindex","0")})))},__moveHandles:function(t,e,i){rt(t,e,y,i)},options:i,updateOptions:function(t,s){var n=pt(),r=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];r.forEach((function(e){void 0!==t[e]&&(i[e]=t[e])}));var o=ot(i);r.forEach((function(i){void 0!==t[i]&&(e[i]=o[i])})),f=o.spectrum,e.margin=o.margin,e.limit=o.limit,e.padding=o.padding,e.pips?R(e.pips):z(),e.tooltips?F():D(),y=[],dt(S(t.start)?t.start:n,s)},target:m,removePips:z,removeTooltips:D,getPositions:function(){return y.slice()},getTooltips:function(){return l},getOrigins:function(){return n},pips:R};return ft}const at=function(t,e){if(!t||!t.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+t);if(t.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var i=lt(t,ot(e),e);return t.noUiSlider=i,i};class ct{constructor(){this.selectorParent=".range",this.selectorSlider=".range__slider",this.selectorMinInput=".range__input-min",this.selectorMaxInput=".range__input-max",this.allSliders=new Map;const t=document.querySelectorAll(this.selectorParent);0!==t.length&&(t.forEach((t=>{var e,i;const s=t.querySelector(this.selectorMinInput),n=t.querySelector(this.selectorMaxInput),r=t.querySelector(this.selectorSlider),o=null!==(e=Number(null==s?void 0:s.value))&&void 0!==e?e:0,l=null!==(i=Number(null==n?void 0:n.value))&&void 0!==i?i:0,a=Number(null==s?void 0:s.dataset.min),c=Number(null==n?void 0:n.dataset.max),u=Number(null==r?void 0:r.dataset.step);if(!r||!s||!n)throw new Error(`this slider: , ${t}, don't contain min max value!`);s.addEventListener("input",(t=>this.changeInputs(t))),n.addEventListener("input",(t=>this.changeInputs(t))),this.allSliders.set(r,{initOptions:{start:[o,l],range:{min:a,max:c},step:u||1e3,connect:!0},inputsElem:[s,n]})})),this.changeEvent=new Event("change",{bubbles:!0}),this.init())}init(){this.handlers(),this.initSliders()}changeSlider(t,e){const[i,s]=e,n=this.allSliders.get(t.target);if(n&&n.inputsElem){const[t,e]=n.inputsElem;let r=!1,o=!1;t.value!==i.split(".")[0]&&(r=!0),e.value!==s.split(".")[0]&&(o=!0),t.value=i.split(".")[0],e.value=s.split(".")[0],r&&t.dispatchEvent(this.changeEvent),o&&e.dispatchEvent(this.changeEvent)}}changeInputs(t){var e,i,s,n,r,o,l,a,c,u,h,d;const p=t.target,m=p.classList.contains("range__input-max"),f=p.classList.contains("range__input-min"),v=p.value,g=Number(v.replace(/^0+|[^0-9]/g,"")),S=p.closest(this.selectorParent).querySelector(this.selectorSlider);if(S){const t=this.allSliders.get(S),v=null==t?void 0:t.entitySlider,b=null==t?void 0:t.initOptions;if(v&&b){const[S,y]=v.get(),[E,w]=Object.values(b.range),C=g<=w&&g>=E;m&&(C?g<Number(S.split(".")[0])?(p.value=String(E),null===(e=null==t?void 0:t.entitySlider)||void 0===e||e.set([E,E]),(null===(i=null==t?void 0:t.inputsElem)||void 0===i?void 0:i[0]).value=String(E)):(p.value=String(g),null===(s=null==t?void 0:t.entitySlider)||void 0===s||s.set([Number(S.split(".")[0]),g])):(g>w&&(p.value=String(w),null===(n=null==t?void 0:t.entitySlider)||void 0===n||n.set([Number(S),w])),g<E&&(p.value=String(g),null===(r=null==t?void 0:t.entitySlider)||void 0===r||r.set([E,Number(y)]),(null===(o=null==t?void 0:t.inputsElem)||void 0===o?void 0:o[0]).value=String(E)))),f&&(C?g>Number(y.split(".")[0])?(p.value=String(g),null===(l=null==t?void 0:t.entitySlider)||void 0===l||l.set([g,g]),(null===(a=null==t?void 0:t.inputsElem)||void 0===a?void 0:a[1]).value=String(g)):(p.value=String(g),null===(c=null==t?void 0:t.entitySlider)||void 0===c||c.set([g,Number(y.split(".")[0])])):(g>w&&(p.value=String(w),null===(u=null==t?void 0:t.entitySlider)||void 0===u||u.set([w,w]),(null===(h=null==t?void 0:t.inputsElem)||void 0===h?void 0:h[1]).value=String(w)),g<E&&(p.value=String(g),null===(d=null==t?void 0:t.entitySlider)||void 0===d||d.set([E,Number(y)]))))}}}initSliders(){this.allSliders.forEach(((t,e)=>{const i=at(e,Object.assign({},t.initOptions)),s=this.allSliders.get(e);s&&this.allSliders.set(e,Object.assign(Object.assign({},s),{entitySlider:i})),i.on("change",(t=>{this.changeSlider(i,t)}))}))}changeMinMaxValue(t,e){const i=Number(t.value),s=t.closest(this.selectorParent),n=null==s?void 0:s.querySelector(this.selectorSlider),r=this.allSliders.get(n),o=null==r?void 0:r.entitySlider;if(o){const s=o.get(),n=Number(s[0].split(".")[0]),r=Number(s[1].split(".")[0]);"max"===e&&i!==r&&(t.value=String(r)),"min"===e&&i!==n&&(t.value=String(n))}}changeHandler(t){const e=t.target;e.closest(this.selectorMaxInput)&&this.changeMinMaxValue(e,"max"),e.closest(this.selectorMinInput)&&this.changeMinMaxValue(e,"min")}handlers(){document.addEventListener("change",(t=>this.changeHandler(t)))}}class ut{constructor(){this.selector=".scroll",0!==document.querySelectorAll(this.selector).length&&this.init()}init(){this.handlers()}scroll(t){t?t.scrollIntoView({behavior:"smooth"}):document.body.scrollIntoView({behavior:"smooth"})}searchTarget(t){const e=t.dataset.target;if(e){const t=document.querySelector(`.${e}`);if(t)return this.scroll(t)}this.scroll()}clickHandler(t){const e=t.target.closest(this.selector);e&&this.searchTarget(e)}handlers(){document.addEventListener("click",(t=>this.clickHandler(t)))}}class ht{constructor({selectorContainer:t,selectorActionContainer:e}){this.selectorContainer=t,this.selectorActionContainer=e,this.selectorActionBtn=`${this.selectorActionContainer} .filter-actions__sorts`,this.selectorSortingWrapper=".sorting",this.selectorCross=".sorting__cross",this.selectorIconCross=".filter-actions__icon--cross";const i=document.querySelector(this.selectorContainer);i&&(this.container=i);const s=document.querySelector(this.selectorActionContainer);s&&(this.actionContainer=s);const n=document.querySelector(this.selectorActionBtn);n&&(this.sortingActionBtn=n);const r=this.container.querySelector(this.selectorSortingWrapper);r&&(this.sortingWrapper=r);const o=this.container.querySelector(this.selectorCross);o&&(this.sortingCross=o),this.isOpen=!1,this.isSelected=!1,this.defaultContentBtn=this.sortingActionBtn.innerHTML,this.selectedContentBtn="",this.sortingActionBtn&&this.container&&this.init()}init(){this.handlers();const t=window.matchMedia("(min-width:1200px)"),e=window.matchMedia("(min-width:768px)");t.addListener((t=>this.breakpointChecker(t,1200))),e.addListener((t=>this.breakpointChecker(t,768)))}toggleOverflowBody(t){if(!this.container.classList.contains("hide")){if(t.matches&&this.isOpen)return document.body.classList.remove("overflow");!t.matches&&this.isOpen&&document.body.classList.add("overflow")}}toggleContentBtn(t){if(t.matches&&this.selectedContentBtn)return this.sortingActionBtn.innerHTML=this.selectedContentBtn;this.sortingActionBtn.innerHTML=this.defaultContentBtn}breakpointChecker(t,e){this.actionContainer.classList.contains("active")&&(1200===e&&this.toggleOverflowBody(t),768===e&&this.toggleContentBtn(t))}toggleSorting(){this.isOpen?(this.sortingWrapper.classList.remove("active"),this.sortingActionBtn.classList.remove("active"),this.isOpen=!1,document.body.classList.remove("overflow"),this.selectedContentBtn&&window.innerWidth>768&&(this.sortingActionBtn.innerHTML=this.selectedContentBtn)):(this.sortingWrapper.classList.add("active"),this.sortingActionBtn.classList.add("active"),this.isOpen=!0,window.innerWidth<1200&&document.body.classList.add("overflow"),this.sortingActionBtn.innerHTML=this.defaultContentBtn)}chooseSorting(t){var e;this.isSelected=!0,this.selectedElem=t;const i=t.closest(".radio"),s=null===(e=null==i?void 0:i.querySelector(".btn"))||void 0===e?void 0:e.innerHTML;s&&(this.selectedContentBtn=s,window.innerWidth>768&&(this.sortingActionBtn.innerHTML=s)),this.sortingActionBtn.classList.remove("btn--color-grey"),this.sortingActionBtn.classList.add("btn--tag","btn--tag-checked"),this.toggleSorting()}clearSort(){this.isSelected&&(this.selectedContentBtn="",this.sortingActionBtn.classList.remove("btn--tag","btn--tag-checked"),this.sortingActionBtn.classList.add("btn--color-grey"),this.sortingActionBtn.innerHTML=this.defaultContentBtn,this.selectedElem&&(this.selectedElem.checked=!1),this.isSelected=!1,this.selectedElem=null),this.toggleSorting()}changeHandler(t){const e=t.target;e.checked&&this.sortingWrapper.contains(e)&&this.chooseSorting(e)}clickHandler(t){const e=t.target;return e.closest(this.selectorIconCross)&&this.sortingActionBtn.contains(e)?this.clearSort():this.sortingActionBtn.contains(e)||this.sortingCross.contains(e)?this.toggleSorting():void 0}handlers(){document.addEventListener("click",(t=>this.clickHandler(t))),this.sortingWrapper.addEventListener("change",(t=>this.changeHandler(t)))}}class dt{constructor(){this.selectorContainer=".ticker",this.selectorText=`${this.selectorContainer}__text`,this.init()}init(){this.handlers()}setActivation(t,e){e?t.classList.add("active"):t.classList.remove("active")}checkTextLength(t){var e;const i=t.clientWidth;((null===(e=t.querySelector(this.selectorText))||void 0===e?void 0:e.clientWidth)||0)>i&&this.setActivation(t,!0)}mouseoverHandler(t){const e=t.target.closest(this.selectorContainer);e&&this.checkTextLength(e)}mouseoutHandler(t){const e=t.target.closest(this.selectorContainer);e&&this.setActivation(e,!1)}handlers(){document.addEventListener("mouseover",(t=>this.mouseoverHandler(t))),document.addEventListener("mouseout",(t=>this.mouseoutHandler(t)))}}window.addEventListener("load",(()=>{try{new d({id:"users-autocomplete"})}catch(t){console.log(t)}try{new m}catch(t){console.log(t)}try{new ct}catch(t){console.log(t)}try{new ht({selectorContainer:".user-card-list__form",selectorActionContainer:".filter-actions"})}catch(t){console.log(t)}try{new f({selectorMain:".user-card-list",selectorContainer:".user-card-list__form",selectorActionBtn:".filter-actions__filters"})}catch(t){console.log(t)}try{new o(".user-card-list__form",e.autocomplete,{method:"post"})}catch(t){console.log(t)}try{new ut}catch(t){console.log(t)}try{new dt}catch(t){console.log(t)}}))})();